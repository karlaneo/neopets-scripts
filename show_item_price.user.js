// ==UserScript==
// @name         Neopets - Karla's Item Value Display
// @namespace    karla@neopointskarla
// @license      GPL3
// @version      0.2.1
// @description  Displays the value of items from Jellyneo and Itemsdb
// @author       Karla
// @match        *://*.neopets.com/*
// @homepage     https://neopointskarla.com
// @icon         https://github.com/karlaneo/neopets-scripts/blob/main/favicon-32x32.png?raw=true
// @grant        GM_addStyle
// @require      https://cdn.jsdelivr.net/gh/karlaneo/data/data.js
// @downloadURL  https://github.com/karlaneo/neopets-scripts/raw/refs/heads/main/show_item_price.user.js
// @updateURL    https://github.com/karlaneo/neopets-scripts/raw/refs/heads/main/show_item_price.user.js
// ==/UserScript==

const a0_0x45a11f=a0_0x2ad0;(function(_0x197c30,_0x1079bf){const _0x38962a=a0_0x2ad0,_0x56b4d7=_0x197c30();while(!![]){try{const _0x50ede6=-parseInt(_0x38962a(0x1aa))/0x1+-parseInt(_0x38962a(0x16f))/0x2*(parseInt(_0x38962a(0x187))/0x3)+-parseInt(_0x38962a(0x184))/0x4*(-parseInt(_0x38962a(0x1a9))/0x5)+parseInt(_0x38962a(0x17e))/0x6+parseInt(_0x38962a(0x174))/0x7*(-parseInt(_0x38962a(0x18b))/0x8)+parseInt(_0x38962a(0x16a))/0x9+parseInt(_0x38962a(0x19f))/0xa*(parseInt(_0x38962a(0x189))/0xb);if(_0x50ede6===_0x1079bf)break;else _0x56b4d7['push'](_0x56b4d7['shift']());}catch(_0x5f40cf){_0x56b4d7['push'](_0x56b4d7['shift']());}}}(a0_0x10ef,0x7170e));function formatNumber(_0xd770b4){const _0x1ed729=a0_0x2ad0;if(_0xd770b4>=0x3b9aca00)return(_0xd770b4/0x3b9aca00)[_0x1ed729(0x176)](0x1)[_0x1ed729(0x195)](/\.0$/,'')+'b';else{if(_0xd770b4>=0xf4240)return(_0xd770b4/0xf4240)[_0x1ed729(0x176)](0x1)[_0x1ed729(0x195)](/\.0$/,'')+'m';else return _0xd770b4>=0x3e8?(_0xd770b4/0x3e8)[_0x1ed729(0x176)](0x1)[_0x1ed729(0x195)](/\.0$/,'')+'k':_0xd770b4[_0x1ed729(0x18c)]();}}function injectPriceEl(_0x175970,_0x340fdc,_0x4fdb74=a0_0x45a11f(0x162),_0xbb95ab,_0x4aef18=![]){const _0x4e355c=a0_0x45a11f,{jn_price:_0x36d6f9,db_price:_0x284289,rarity:_0x44b6b6}=_0x340fdc,_0x503ff1=document['createElement'](_0x4e355c(0x17d)),_0x10815c=document[_0x4e355c(0x194)](_0x4e355c(0x17d)),_0x3d7f75=document[_0x4e355c(0x194)](_0x4e355c(0x17d)),_0xcdddd6=document['createElement']('div');_0x503ff1['className']=_0x4e355c(0x19a),_0x175970['parentNode'][_0x4e355c(0x173)](_0x503ff1,_0x175970),_0x503ff1['append'](_0x175970),_0x503ff1[_0x4e355c(0x191)][_0x4e355c(0x196)]=_0x4e355c(0x197),_0x10815c['style'][_0x4e355c(0x169)]=_0x4e355c(0x193),_0x10815c[_0x4e355c(0x191)][_0x4e355c(0x168)]=_0x4fdb74,_0x10815c[_0x4e355c(0x191)]['fontWeight']=0x320,_0x10815c['style'][_0x4e355c(0x169)]='12px',_0x3d7f75['style']['color']=_0x4e355c(0x16e),_0xcdddd6[_0x4e355c(0x191)]['color']=_0x4e355c(0x1a6),_0x3d7f75[_0x4e355c(0x181)]=_0x4e355c(0x186)+(_0x36d6f9?formatNumber(Number(_0x36d6f9)):'?'),_0xcdddd6[_0x4e355c(0x181)]='DB:'+(_0x284289?formatNumber(Number(_0x284289)):'?'),_0x10815c['append'](_0x3d7f75),_0x10815c[_0x4e355c(0x17b)](_0xcdddd6),_0x503ff1[_0x4e355c(0x17b)](_0x10815c);if(_0xbb95ab){const _0x3371b3=document[_0x4e355c(0x194)](_0x4e355c(0x17d));_0x3371b3[_0x4e355c(0x191)]['position']=_0x4e355c(0x19b),_0x3371b3['style'][_0x4e355c(0x18e)]=_0x4e355c(0x17f),_0x3371b3[_0x4e355c(0x191)]['top']='0',_0x3371b3[_0x4e355c(0x191)][_0x4e355c(0x180)]='0',_0x3371b3[_0x4e355c(0x191)][_0x4e355c(0x16b)]=_0x4e355c(0x1a4),_0x3371b3['innerHTML']='r'+_0x44b6b6,_0x503ff1[_0x4e355c(0x17b)](_0x3371b3);}_0x4aef18&&(_0x503ff1[_0x4e355c(0x191)][_0x4e355c(0x19d)]=_0x4e355c(0x190),_0x503ff1[_0x4e355c(0x191)][_0x4e355c(0x17a)]=_0x4e355c(0x162));}function fillAuction(){const _0x3b7361=a0_0x45a11f,_0x318205=document['querySelectorAll']('img[src^=\x22//images.neopets.com/items/\x22]:not(.img-wrapper\x20img)');for(let _0x2b703e=0x0;_0x2b703e<_0x318205['length'];_0x2b703e+=0x1){const _0x1e3b1c=_0x318205[_0x2b703e],_0x5c7b85=_0x1e3b1c['parentNode'][_0x3b7361(0x17c)][_0x3b7361(0x15e)][_0x3b7361(0x1a7)]('a')[_0x3b7361(0x1ac)][_0x3b7361(0x179)](),_0x33030e=window[_0x3b7361(0x1a1)][_0x5c7b85]||{};injectPriceEl(_0x1e3b1c,_0x33030e);}}function fillInventory(){const _0x5512e2=a0_0x45a11f,_0x1621b6=document[_0x5512e2(0x18a)]('.item-img:not(.img-wrapper\x20.item-img)');for(let _0x1bead5=0x0;_0x1bead5<_0x1621b6['length'];_0x1bead5+=0x1){const _0x3edcc0=_0x1621b6[_0x1bead5],_0x4219e0=_0x3edcc0[_0x5512e2(0x17c)]['querySelector'](_0x5512e2(0x1a8))[_0x5512e2(0x1ac)][_0x5512e2(0x179)](),_0x49dda7=window[_0x5512e2(0x1a1)][_0x4219e0]||{};injectPriceEl(_0x3edcc0,_0x49dda7);}}function fillQuickStock(){const _0x671b83=a0_0x45a11f,_0x5a0983=document['querySelectorAll'](_0x671b83(0x1a3));for(let _0x4fb23c=0x0;_0x4fb23c<_0x5a0983['length'];_0x4fb23c+=0x1){const _0x216b84=_0x5a0983[_0x4fb23c],_0x24d41f=_0x216b84[_0x671b83(0x1ac)][_0x671b83(0x179)](),_0x5730a7=window[_0x671b83(0x1a1)][_0x24d41f]||{};injectPriceEl(_0x216b84,_0x5730a7,_0x671b83(0x188));}}function fillSDB(){const _0x175d9c=a0_0x45a11f,_0x50fcb5=document['querySelectorAll'](_0x175d9c(0x163));for(let _0x1ee2e0=0x0;_0x1ee2e0<_0x50fcb5['length'];_0x1ee2e0+=0x1){const _0x44a3b3=_0x50fcb5[_0x1ee2e0],_0x55991d=_0x44a3b3[_0x175d9c(0x17c)]['parentNode'][_0x175d9c(0x1a7)]('b');console[_0x175d9c(0x175)](_0x55991d);let _0x5ba393;console['log'](_0x55991d[_0x175d9c(0x199)]);for(let _0x1ed865=0x0;_0x1ed865<_0x55991d[_0x175d9c(0x199)]['length'];_0x1ed865+=0x1){if(_0x55991d[_0x175d9c(0x199)][_0x1ed865][_0x175d9c(0x177)]===Node[_0x175d9c(0x198)]){_0x5ba393=_0x55991d['childNodes'][_0x1ed865][_0x175d9c(0x1ac)],console[_0x175d9c(0x175)](_0x5ba393);const _0x1a7bdb=window['npdata'][_0x5ba393]||{};injectPriceEl(_0x44a3b3,_0x1a7bdb);break;}}}}function fillTP(){const _0x857b12=a0_0x45a11f,_0x3aa372=document[_0x857b12(0x18a)](_0x857b12(0x172));for(let _0x5932a7=0x0;_0x5932a7<_0x3aa372[_0x857b12(0x1a5)];_0x5932a7+=0x1){const _0xdd72ab=_0x3aa372[_0x5932a7],_0x4da348=_0xdd72ab['parentNode'][_0x857b12(0x1ac)][_0x857b12(0x179)](),_0x480a01=window[_0x857b12(0x1a1)][_0x4da348]||{};injectPriceEl(_0xdd72ab,_0x480a01,_0x857b12(0x188),![],!![]);}}function a0_0x10ef(){const _0xbb62c8=['/quickstock.phtml','12px','createElement','replace','position','relative','TEXT_NODE','childNodes','img-wrapper','absolute','img[src^=\x22https://images.neopets.com/items/\x22]:not(.img-wrapper\x20img)','display','location','20uBUdOG','/winter/igloo2','npdata','height','[name=\x22quickstock\x22]\x20[align=\x22left\x22]:not(.img-wrapper\x20*)','#FF2C2C','length','#1A202C','querySelector','.item-name','5NpbJrO','681322glmOnI','/browseshop.phtml','textContent','nextSibling','180px','[src^=\x22https://images.neopets.com/items\x22]:not(.img-wrapper\x20img)','/questlog','center','img[src^=\x22//images.neopets.com/items/\x22]:not(.img-wrapper\x20img)','/auctions.phtml','.img-wrapper','#QuestLogStreakImg','img','textAlign','fontSize','658746Uouuai','color','alt','#QuestLogStreakBonus\x20.ql-bonus-img:not(.img-wrapper\x20*)','#2D5A87','2uFPTWL','/safetydeposit.phtml','[href^=\x22takedonation_new.phtml\x22]','[src^=\x22//images.neopets.com/items\x22]:not(.img-wrapper\x20img)','insertBefore','70987AbThSv','log','toFixed','nodeType','[href^=\x22process_igloo.phtml\x22]','trim','alignItems','append','parentNode','div','1669590XkuGux','#fff','right','innerHTML','includes','#items\x20li','2252692CgEyCw','/objects.phtml','JN:','2241279GDZpgJ','left','7556648OXLaHs','querySelectorAll','312rzUmkx','toString','/inventory.phtml','backgroundColor','/tvw/rewards/','flex','style'];a0_0x10ef=function(){return _0xbb62c8;};return a0_0x10ef();}function fillShop(){const _0x4289b5=a0_0x45a11f,_0x172ed6=document[_0x4289b5(0x18a)]('.shop-item\x20.item-img:not(.img-wrapper\x20*)');for(let _0x25777b=0x0;_0x25777b<_0x172ed6['length'];_0x25777b+=0x1){const _0x4f603e=_0x172ed6[_0x25777b],_0x40cbf7=_0x4f603e['parentNode'][_0x4289b5(0x1a7)]('.item-name')[_0x4289b5(0x1ac)][_0x4289b5(0x179)]();console[_0x4289b5(0x175)](_0x40cbf7);const _0x30a44d=window['npdata'][_0x40cbf7]||{};injectPriceEl(_0x4f603e,_0x30a44d,_0x4289b5(0x162),!![]);}}function fillQuest(){const _0x2f128e=a0_0x45a11f,_0x55b26b=document[_0x2f128e(0x1a7)](_0x2f128e(0x16d));if(_0x55b26b){const _0xab17c4=_0x55b26b[_0x2f128e(0x1a7)](_0x2f128e(0x166))[_0x2f128e(0x16c)],_0x27fc7e=window['npdata'][_0xab17c4]||{};injectPriceEl(_0x55b26b,_0x27fc7e);}const _0x5a3ef5=document[_0x2f128e(0x18a)](_0x2f128e(0x19c));for(let _0x15573e=0x0;_0x15573e<_0x5a3ef5[_0x2f128e(0x1a5)];_0x15573e+=0x1){const _0x51d3d4=_0x5a3ef5[_0x15573e],_0x16490a=_0x51d3d4[_0x2f128e(0x17c)]['parentNode'][_0x2f128e(0x1ac)][_0x2f128e(0x179)](),_0x49089d=window[_0x2f128e(0x1a1)][_0x16490a]||{};injectPriceEl(_0x51d3d4,_0x49089d);}}function fillUserShop(){const _0x1a3d3b=a0_0x45a11f,_0x3e2b74=document[_0x1a3d3b(0x18a)](_0x1a3d3b(0x19c));for(let _0x402473=0x0;_0x402473<_0x3e2b74[_0x1a3d3b(0x1a5)];_0x402473+=0x1){const _0x3bf25b=_0x3e2b74[_0x402473],_0x43025f=_0x3bf25b[_0x1a3d3b(0x17c)][_0x1a3d3b(0x17c)]['querySelector']('b')[_0x1a3d3b(0x1ac)][_0x1a3d3b(0x179)](),_0x56bee2=window['npdata'][_0x43025f]||{};injectPriceEl(_0x3bf25b,_0x56bee2);}}function fillTVW(){const _0x2a177f=a0_0x45a11f,_0x317c1b=document['querySelectorAll'](_0x2a177f(0x160));for(let _0x551fc5=0x0;_0x551fc5<_0x317c1b[_0x2a177f(0x1a5)];_0x551fc5+=0x1){const _0x4e83f1=_0x317c1b[_0x551fc5],_0x4f641b=_0x4e83f1[_0x2a177f(0x17c)]['querySelector']('p')[_0x2a177f(0x1ac)][_0x2a177f(0x179)](),_0x26c70a=window[_0x2a177f(0x1a1)][_0x4f641b]||{};injectPriceEl(_0x4e83f1,_0x26c70a);}}function fillOther(){const _0x101482=a0_0x45a11f,_0x49ee6c=document['querySelectorAll'](_0x101482(0x160));for(let _0x5958aa=0x0;_0x5958aa<_0x49ee6c[_0x101482(0x1a5)];_0x5958aa+=0x1){const _0x3d9923=_0x49ee6c[_0x5958aa],_0x36cb75=_0x3d9923['parentNode'][_0x101482(0x1ac)][_0x101482(0x179)](),_0x73f3ab=window[_0x101482(0x1a1)][_0x36cb75];if(!_0x73f3ab)continue;injectPriceEl(_0x3d9923,_0x73f3ab);}}function fillAAA(){const _0x175d56=a0_0x45a11f,_0x3b5525=document[_0x175d56(0x18a)](_0x175d56(0x183));for(let _0x1bfa14=0x0;_0x1bfa14<_0x3b5525['length'];_0x1bfa14+=0x1){if(_0x3b5525[_0x1bfa14][_0x175d56(0x1a7)](_0x175d56(0x165)))continue;_0x3b5525[_0x1bfa14][_0x175d56(0x191)][_0x175d56(0x1a2)]=_0x175d56(0x15f);const _0x1fa32d=_0x3b5525[_0x1bfa14]['querySelector']('b')['textContent'],_0x197359=window['npdata'][_0x1fa32d];if(!_0x197359)continue;injectPriceEl(_0x3b5525[_0x1bfa14]['querySelector'](_0x175d56(0x167)),_0x197359);}}function a0_0x2ad0(_0xc9bc5f,_0x504e38){const _0x10ef9b=a0_0x10ef();return a0_0x2ad0=function(_0x2ad0b2,_0x1dfbad){_0x2ad0b2=_0x2ad0b2-0x15e;let _0x31272e=_0x10ef9b[_0x2ad0b2];return _0x31272e;},a0_0x2ad0(_0xc9bc5f,_0x504e38);}function fillIgloo(){const _0x17c19f=a0_0x45a11f,_0x5858c4=document[_0x17c19f(0x18a)](_0x17c19f(0x178));for(let _0x462b55=0x0;_0x462b55<_0x5858c4[_0x17c19f(0x1a5)];_0x462b55+=0x1){const _0x49c484=_0x5858c4[_0x462b55][_0x17c19f(0x17c)];if(_0x49c484['querySelector'](_0x17c19f(0x165)))continue;const _0xcc9c5d=_0x49c484[_0x17c19f(0x1a7)]('b')[_0x17c19f(0x1ac)],_0xaeee9e=window['npdata'][_0xcc9c5d];if(!_0xaeee9e)continue;injectPriceEl(_0x49c484[_0x17c19f(0x1a7)]('br'),_0xaeee9e);}}function fillMoneyTree(){const _0x14ef25=a0_0x45a11f,_0xd137eb=document['querySelectorAll'](_0x14ef25(0x171));for(let _0x1d569a=0x0;_0x1d569a<_0xd137eb[_0x14ef25(0x1a5)];_0x1d569a+=0x1){const _0xda4ef8=_0xd137eb[_0x1d569a];if(_0xda4ef8[_0x14ef25(0x1a7)](_0x14ef25(0x165)))continue;const _0x3e3d01=_0xda4ef8[_0x14ef25(0x1a7)](_0x14ef25(0x1a8))[_0x14ef25(0x1ac)],_0x1d05f2=window[_0x14ef25(0x1a1)][_0x3e3d01];if(!_0x1d05f2)continue;injectPriceEl(_0xda4ef8[_0x14ef25(0x1a7)]('.item-name'),_0x1d05f2);}}(function(){'use strict';const _0x41fb73=()=>{const _0xbcc4ca=a0_0x2ad0,_0x29696f=window[_0xbcc4ca(0x19e)]['href'];if(_0x29696f['includes'](_0xbcc4ca(0x164)))fillAuction();else{if(_0x29696f['includes'](_0xbcc4ca(0x18d)))fillInventory();else{if(_0x29696f[_0xbcc4ca(0x182)](_0xbcc4ca(0x192)))fillQuickStock();else{if(_0x29696f['includes']('/island/tradingpost.phtml'))fillTP();else{if(_0x29696f[_0xbcc4ca(0x182)](_0xbcc4ca(0x170)))fillSDB();else{if(_0x29696f[_0xbcc4ca(0x182)](_0xbcc4ca(0x185)))fillShop();else{if(_0x29696f[_0xbcc4ca(0x182)](_0xbcc4ca(0x161)))fillQuest();else{if(_0x29696f['includes'](_0xbcc4ca(0x1ab)))fillUserShop();else{if(_0x29696f['includes'](_0xbcc4ca(0x18f)))fillTVW();else{if(_0x29696f[_0xbcc4ca(0x182)]('/halloween/garage'))fillAAA();else{if(_0x29696f[_0xbcc4ca(0x182)](_0xbcc4ca(0x1a0)))fillIgloo();else _0x29696f[_0xbcc4ca(0x182)]('/donations')?fillMoneyTree():fillOther();}}}}}}}}}}setTimeout(_0x41fb73,0x3e8);};_0x41fb73();}());
