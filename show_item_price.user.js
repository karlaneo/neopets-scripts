// ==UserScript==
// @name         Neopets - Karla's Item Value Display
// @namespace    karla@neopointskarla
// @license      GPL3
// @version      0.2.3
// @description  Displays the value of items from Jellyneo and Itemsdb
// @author       Karla
// @match        *://*.neopets.com/*
// @homepage     https://neopointskarla.com
// @icon         https://github.com/karlaneo/neopets-scripts/blob/main/favicon-32x32.png?raw=true
// @grant        GM_addStyle
// @require      https://cdn.jsdelivr.net/gh/karlaneo/data/data.js
// @downloadURL  https://github.com/karlaneo/neopets-scripts/raw/refs/heads/main/show_item_price.user.js
// @updateURL    https://github.com/karlaneo/neopets-scripts/raw/refs/heads/main/show_item_price.user.js
// ==/UserScript==

function a0_0x39b7(){const _0x47fbe2=['img','color','innerHTML','alignItems','nextSibling','456022JHpWdA','/objects.phtml','append','4jwisDy','href','/quickstock.phtml','center','#items\x20li','#FF2C2C','location','trim','DB:','[name=\x22quickstock\x22]\x20[align=\x22left\x22]:not(.img-wrapper\x20*)','div','#QuestLogStreakBonus\x20.ql-bonus-img:not(.img-wrapper\x20*)','left','img[src^=\x22https://images.neopets.com/items/\x22]:not(.img-wrapper\x20img)','237895VAxNhq','createElement','/inventory.phtml','.img-wrapper','1501704eWYfbm','905373xHRTcT','querySelectorAll','fontSize','#1A202C','722810ZDJfib','img-wrapper','backgroundColor','textContent','img[src^=\x22//images.neopets.com/items/\x22]:not(.img-wrapper\x20img)','9kVuCBi','parentNode','80WsUVXP','querySelector','replace','1352970GuHPYU','fontWeight','162ozYjWQ','flex','includes','[src^=\x22https://images.neopets.com/items\x22]:not(.img-wrapper\x20img)','absolute','length','right','JN:','insertBefore','/auctions.phtml','/questlog','top','toFixed','style','[href^=\x22process_igloo.phtml\x22]','694023oxierc','.item-name','childNodes','/winter/igloo2','#QuestLogStreakImg','#fff','nodeType','[src^=\x22//images.neopets.com/items\x22]:not(.img-wrapper\x20img)','relative','npdata','432ijNcAu','position'];a0_0x39b7=function(){return _0x47fbe2;};return a0_0x39b7();}const a0_0x28a6c1=a0_0x1baf;(function(_0x22fe19,_0x162e4c){const _0x4eab7c=a0_0x1baf,_0x1f49a0=_0x22fe19();while(!![]){try{const _0x226e53=-parseInt(_0x4eab7c(0x194))/0x1+-parseInt(_0x4eab7c(0x17a))/0x2*(parseInt(_0x4eab7c(0x199))/0x3)+-parseInt(_0x4eab7c(0x17d))/0x4*(parseInt(_0x4eab7c(0x19e))/0x5)+-parseInt(_0x4eab7c(0x1a0))/0x6*(-parseInt(_0x4eab7c(0x18b))/0x7)+-parseInt(_0x4eab7c(0x18f))/0x8+parseInt(_0x4eab7c(0x190))/0x9*(-parseInt(_0x4eab7c(0x19b))/0xa)+parseInt(_0x4eab7c(0x169))/0xb*(parseInt(_0x4eab7c(0x173))/0xc);if(_0x226e53===_0x162e4c)break;else _0x1f49a0['push'](_0x1f49a0['shift']());}catch(_0x3d6fdb){_0x1f49a0['push'](_0x1f49a0['shift']());}}}(a0_0x39b7,0x7eb69));function formatNumber(_0x52f87f){const _0x42c190=a0_0x1baf;if(_0x52f87f>=0x3b9aca00)return(_0x52f87f/0x3b9aca00)['toFixed'](0x1)['replace'](/\.0$/,'')+'b';else{if(_0x52f87f>=0xf4240)return(_0x52f87f/0xf4240)[_0x42c190(0x166)](0x1)[_0x42c190(0x19d)](/\.0$/,'')+'m';else return _0x52f87f>=0x3e8?(_0x52f87f/0x3e8)[_0x42c190(0x166)](0x1)[_0x42c190(0x19d)](/\.0$/,'')+'k':_0x52f87f['toString']();}}function injectPriceEl(_0x404eba,_0x4f424f,_0x36930b=a0_0x28a6c1(0x180),_0x431b05,_0x214d12=![]){const _0x37d4d7=a0_0x28a6c1,{jn_price:_0x1fb08d,db_price:_0xbbce9,rarity:_0x2f26bd}=_0x4f424f,_0x1a0abc=document['createElement']('div'),_0xd94583=document[_0x37d4d7(0x18c)]('div'),_0x1e2c0b=document['createElement'](_0x37d4d7(0x187)),_0x2e4ee1=document[_0x37d4d7(0x18c)]('div');_0x1a0abc['className']=_0x37d4d7(0x195),_0x404eba['parentNode'][_0x37d4d7(0x162)](_0x1a0abc,_0x404eba),_0x1a0abc[_0x37d4d7(0x17c)](_0x404eba),_0x1a0abc['style'][_0x37d4d7(0x174)]=_0x37d4d7(0x171),_0xd94583[_0x37d4d7(0x167)]['fontSize']='12px',_0xd94583[_0x37d4d7(0x167)]['textAlign']=_0x36930b,_0xd94583[_0x37d4d7(0x167)][_0x37d4d7(0x19f)]=0x320,_0xd94583[_0x37d4d7(0x167)][_0x37d4d7(0x192)]='12px',_0x1e2c0b[_0x37d4d7(0x167)]['color']='#2D5A87',_0x2e4ee1[_0x37d4d7(0x167)][_0x37d4d7(0x176)]=_0x37d4d7(0x193),_0x1e2c0b['innerHTML']=_0x37d4d7(0x161)+(_0x1fb08d?formatNumber(Number(_0x1fb08d)):'?'),_0x2e4ee1['innerHTML']=_0x37d4d7(0x185)+(_0xbbce9?formatNumber(Number(_0xbbce9)):'?'),_0xd94583['append'](_0x1e2c0b),_0xd94583[_0x37d4d7(0x17c)](_0x2e4ee1),_0x1a0abc[_0x37d4d7(0x17c)](_0xd94583);if(_0x431b05){const _0x5c65cd=document[_0x37d4d7(0x18c)](_0x37d4d7(0x187));_0x5c65cd[_0x37d4d7(0x167)]['position']=_0x37d4d7(0x15e),_0x5c65cd[_0x37d4d7(0x167)][_0x37d4d7(0x196)]=_0x37d4d7(0x16e),_0x5c65cd[_0x37d4d7(0x167)][_0x37d4d7(0x165)]='0',_0x5c65cd[_0x37d4d7(0x167)][_0x37d4d7(0x160)]='0',_0x5c65cd['style'][_0x37d4d7(0x176)]=_0x37d4d7(0x182),_0x5c65cd[_0x37d4d7(0x177)]='r'+_0x2f26bd,_0x1a0abc[_0x37d4d7(0x17c)](_0x5c65cd);}_0x214d12&&(_0x1a0abc['style']['display']=_0x37d4d7(0x15b),_0x1a0abc[_0x37d4d7(0x167)][_0x37d4d7(0x178)]=_0x37d4d7(0x180));}function fillAuction(){const _0x3e1754=a0_0x28a6c1,_0x5a8aa8=document[_0x3e1754(0x191)](_0x3e1754(0x198));for(let _0x3ba16c=0x0;_0x3ba16c<_0x5a8aa8[_0x3e1754(0x15f)];_0x3ba16c+=0x1){const _0x351c53=_0x5a8aa8[_0x3ba16c],_0x1d7e75=_0x351c53[_0x3e1754(0x19a)][_0x3e1754(0x19a)][_0x3e1754(0x179)][_0x3e1754(0x19c)]('a')[_0x3e1754(0x197)][_0x3e1754(0x184)](),_0x416b71=window[_0x3e1754(0x172)][_0x1d7e75]||{};injectPriceEl(_0x351c53,_0x416b71);}}function fillInventory(){const _0x5bddfa=a0_0x28a6c1,_0x48d878=document[_0x5bddfa(0x191)]('.item-img:not(.img-wrapper\x20.item-img)');for(let _0x3b4a24=0x0;_0x3b4a24<_0x48d878[_0x5bddfa(0x15f)];_0x3b4a24+=0x1){const _0x965b23=_0x48d878[_0x3b4a24],_0x5e2702=_0x965b23['parentNode'][_0x5bddfa(0x19c)](_0x5bddfa(0x16a))[_0x5bddfa(0x197)][_0x5bddfa(0x184)](),_0x5e8668=window[_0x5bddfa(0x172)][_0x5e2702]||{};injectPriceEl(_0x965b23,_0x5e8668);}}function fillQuickStock(){const _0x12f736=a0_0x28a6c1,_0x31cf74=document[_0x12f736(0x191)](_0x12f736(0x186));for(let _0x5bbd9b=0x0;_0x5bbd9b<_0x31cf74[_0x12f736(0x15f)];_0x5bbd9b+=0x1){const _0xff2bfb=_0x31cf74[_0x5bbd9b],_0x52249f=_0xff2bfb[_0x12f736(0x197)][_0x12f736(0x184)](),_0x2c9d8c=window[_0x12f736(0x172)][_0x52249f]||{};injectPriceEl(_0xff2bfb,_0x2c9d8c,_0x12f736(0x189));}}function fillSDB(){const _0x5b4f54=a0_0x28a6c1,_0x4b1de2=document['querySelectorAll'](_0x5b4f54(0x198));for(let _0x4c4939=0x0;_0x4c4939<_0x4b1de2[_0x5b4f54(0x15f)];_0x4c4939+=0x1){const _0x5cb720=_0x4b1de2[_0x4c4939],_0x5589d6=_0x5cb720['parentNode'][_0x5b4f54(0x19a)]['querySelector']('b');let _0x4ea01f;for(let _0xeb1d2=0x0;_0xeb1d2<_0x5589d6[_0x5b4f54(0x16b)][_0x5b4f54(0x15f)];_0xeb1d2+=0x1){if(_0x5589d6[_0x5b4f54(0x16b)][_0xeb1d2][_0x5b4f54(0x16f)]===Node['TEXT_NODE']){_0x4ea01f=_0x5589d6[_0x5b4f54(0x16b)][_0xeb1d2][_0x5b4f54(0x197)];const _0x35c525=window[_0x5b4f54(0x172)][_0x4ea01f]||{};injectPriceEl(_0x5cb720,_0x35c525);break;}}}}function fillTP(){const _0x420888=a0_0x28a6c1,_0x5a32dd=document[_0x420888(0x191)](_0x420888(0x170));for(let _0x515cae=0x0;_0x515cae<_0x5a32dd['length'];_0x515cae+=0x1){const _0x15da6b=_0x5a32dd[_0x515cae],_0x5ed786=_0x15da6b[_0x420888(0x19a)]['textContent'][_0x420888(0x184)](),_0x2760dd=window[_0x420888(0x172)][_0x5ed786]||{};injectPriceEl(_0x15da6b,_0x2760dd,_0x420888(0x189),![],!![]);}}function fillShop(){const _0x26e358=a0_0x28a6c1,_0x1b6e2e=document[_0x26e358(0x191)]('.shop-item\x20.item-img:not(.img-wrapper\x20*)');for(let _0x5ebb72=0x0;_0x5ebb72<_0x1b6e2e[_0x26e358(0x15f)];_0x5ebb72+=0x1){const _0x65773e=_0x1b6e2e[_0x5ebb72],_0x4a5d4f=_0x65773e[_0x26e358(0x19a)][_0x26e358(0x19c)]('.item-name')[_0x26e358(0x197)]['trim'](),_0x179e7c=window[_0x26e358(0x172)][_0x4a5d4f]||{};injectPriceEl(_0x65773e,_0x179e7c,_0x26e358(0x180),!![]);}}function fillQuest(){const _0x3e540d=a0_0x28a6c1,_0xcf98ce=document['querySelector'](_0x3e540d(0x188));if(_0xcf98ce){const _0x4815d1=_0xcf98ce[_0x3e540d(0x19c)](_0x3e540d(0x16d))['alt'],_0x4fd3d0=window[_0x3e540d(0x172)][_0x4815d1]||{};injectPriceEl(_0xcf98ce,_0x4fd3d0);}const _0x37496e=document['querySelectorAll'](_0x3e540d(0x18a));for(let _0x3a146f=0x0;_0x3a146f<_0x37496e[_0x3e540d(0x15f)];_0x3a146f+=0x1){const _0x33d41d=_0x37496e[_0x3a146f],_0x2deab9=_0x33d41d['parentNode']['parentNode']['textContent']['trim'](),_0x49eb93=window[_0x3e540d(0x172)][_0x2deab9]||{};injectPriceEl(_0x33d41d,_0x49eb93);}}function fillUserShop(){const _0x2491ce=a0_0x28a6c1,_0x35886c=document[_0x2491ce(0x191)](_0x2491ce(0x18a));for(let _0x2ec29d=0x0;_0x2ec29d<_0x35886c['length'];_0x2ec29d+=0x1){const _0x141b36=_0x35886c[_0x2ec29d],_0x1fb614=_0x141b36[_0x2491ce(0x19a)]['parentNode']['querySelector']('b')[_0x2491ce(0x197)][_0x2491ce(0x184)](),_0x1f0c9a=window['npdata'][_0x1fb614]||{};injectPriceEl(_0x141b36,_0x1f0c9a);}}function fillTVW(){const _0x6523eb=a0_0x28a6c1,_0x635591=document[_0x6523eb(0x191)](_0x6523eb(0x15d));for(let _0x290752=0x0;_0x290752<_0x635591[_0x6523eb(0x15f)];_0x290752+=0x1){const _0x1f8096=_0x635591[_0x290752],_0x581c5d=_0x1f8096[_0x6523eb(0x19a)][_0x6523eb(0x19c)]('p')[_0x6523eb(0x197)][_0x6523eb(0x184)](),_0x2494a3=window[_0x6523eb(0x172)][_0x581c5d]||{};injectPriceEl(_0x1f8096,_0x2494a3);}}function fillOther(){const _0x239675=a0_0x28a6c1,_0x3feb71=document[_0x239675(0x191)](_0x239675(0x15d));for(let _0x6559e9=0x0;_0x6559e9<_0x3feb71[_0x239675(0x15f)];_0x6559e9+=0x1){const _0x5ab2a2=_0x3feb71[_0x6559e9],_0x5e7adc=_0x5ab2a2[_0x239675(0x19a)][_0x239675(0x197)]['trim'](),_0x21b4ce=window['npdata'][_0x5e7adc];if(!_0x21b4ce)continue;injectPriceEl(_0x5ab2a2,_0x21b4ce);}}function fillAAA(){const _0x2ce18d=a0_0x28a6c1,_0x153514=document[_0x2ce18d(0x191)](_0x2ce18d(0x181));for(let _0x4fd62b=0x0;_0x4fd62b<_0x153514[_0x2ce18d(0x15f)];_0x4fd62b+=0x1){if(_0x153514[_0x4fd62b]['querySelector'](_0x2ce18d(0x18e)))continue;_0x153514[_0x4fd62b][_0x2ce18d(0x167)]['height']='180px';const _0x3356e4=_0x153514[_0x4fd62b][_0x2ce18d(0x19c)]('b')[_0x2ce18d(0x197)],_0x3f4048=window[_0x2ce18d(0x172)][_0x3356e4];if(!_0x3f4048)continue;injectPriceEl(_0x153514[_0x4fd62b][_0x2ce18d(0x19c)](_0x2ce18d(0x175)),_0x3f4048);}}function fillIgloo(){const _0x9c1815=a0_0x28a6c1,_0x421166=document['querySelectorAll'](_0x9c1815(0x168));for(let _0x3fcb0f=0x0;_0x3fcb0f<_0x421166[_0x9c1815(0x15f)];_0x3fcb0f+=0x1){const _0x13dcd1=_0x421166[_0x3fcb0f][_0x9c1815(0x19a)];if(_0x13dcd1[_0x9c1815(0x19c)](_0x9c1815(0x18e)))continue;const _0x12ea98=_0x13dcd1['querySelector']('b')['textContent'],_0x134658=window[_0x9c1815(0x172)][_0x12ea98];if(!_0x134658)continue;injectPriceEl(_0x13dcd1['querySelector']('br'),_0x134658);}}function fillMoneyTree(){const _0x4e503d=a0_0x28a6c1,_0x26e250=document[_0x4e503d(0x191)]('[href^=\x22takedonation_new.phtml\x22]');for(let _0x258420=0x0;_0x258420<_0x26e250[_0x4e503d(0x15f)];_0x258420+=0x1){const _0x545039=_0x26e250[_0x258420];if(_0x545039[_0x4e503d(0x19c)](_0x4e503d(0x18e)))continue;const _0x59c165=_0x545039[_0x4e503d(0x19c)](_0x4e503d(0x16a))[_0x4e503d(0x197)],_0x10f44e=window[_0x4e503d(0x172)][_0x59c165];if(!_0x10f44e)continue;injectPriceEl(_0x545039[_0x4e503d(0x19c)](_0x4e503d(0x16a)),_0x10f44e);}}function a0_0x1baf(_0x220524,_0x1c7e63){const _0x39b712=a0_0x39b7();return a0_0x1baf=function(_0x1bafd5,_0x4cc947){_0x1bafd5=_0x1bafd5-0x15b;let _0x35ce2b=_0x39b712[_0x1bafd5];return _0x35ce2b;},a0_0x1baf(_0x220524,_0x1c7e63);}(function(){'use strict';const _0xe2fe73=()=>{const _0x465247=a0_0x1baf,_0x174591=window[_0x465247(0x183)][_0x465247(0x17e)];if(_0x174591['includes'](_0x465247(0x163)))fillAuction();else{if(_0x174591[_0x465247(0x15c)](_0x465247(0x18d)))fillInventory();else{if(_0x174591[_0x465247(0x15c)](_0x465247(0x17f)))fillQuickStock();else{if(_0x174591['includes']('/island/tradingpost.phtml'))fillTP();else{if(_0x174591[_0x465247(0x15c)]('/safetydeposit.phtml'))fillSDB();else{if(_0x174591[_0x465247(0x15c)](_0x465247(0x17b)))fillShop();else{if(_0x174591['includes'](_0x465247(0x164)))fillQuest();else{if(_0x174591['includes']('/browseshop.phtml'))fillUserShop();else{if(_0x174591[_0x465247(0x15c)]('/tvw/rewards/'))fillTVW();else{if(_0x174591[_0x465247(0x15c)]('/halloween/garage'))fillAAA();else{if(_0x174591[_0x465247(0x15c)](_0x465247(0x16c)))fillIgloo();else _0x174591[_0x465247(0x15c)]('/donations')?fillMoneyTree():fillOther();}}}}}}}}}}setTimeout(_0xe2fe73,0x3e8);};_0xe2fe73();}());
