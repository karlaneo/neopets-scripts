// ==UserScript==
// @name         Neopets - Item Value Display
// @namespace    karla@neopointskarla
// @license GPL3
// @version      2025-07-01
// @description  Displays the value of items from Jellyneo and Itemsdb
// @author       Karla
// @match        *://*.neopets.com/*
// @homepage     https://neopointskarla.com
// @icon         https://www.google.com/s2/favicons?sz=64&domain=neopets.com
// @grant        GM_addStyle
// @require      https://cdn.jsdelivr.net/gh/karlaneo/data/data.js
// @downloadURL  https://github.com/karlaneo/neopets-scripts/blob/main/show_item_price.user.js
// @updateURL    https://github.com/karlaneo/neopets-scripts/blob/main/show_item_price.user.js
// ==/UserScript==

(function(_0x14bced,_0x85663f){const _0x36a80d=a0_0x3271,_0xb7576=_0x14bced();while(!![]){try{const _0x5a9a0f=parseInt(_0x36a80d(0x9f))/0x1*(-parseInt(_0x36a80d(0x97))/0x2)+-parseInt(_0x36a80d(0x91))/0x3*(-parseInt(_0x36a80d(0x79))/0x4)+-parseInt(_0x36a80d(0x75))/0x5*(parseInt(_0x36a80d(0x86))/0x6)+parseInt(_0x36a80d(0x7f))/0x7*(parseInt(_0x36a80d(0x99))/0x8)+-parseInt(_0x36a80d(0x7d))/0x9+-parseInt(_0x36a80d(0x90))/0xa+parseInt(_0x36a80d(0x9c))/0xb;if(_0x5a9a0f===_0x85663f)break;else _0xb7576['push'](_0xb7576['shift']());}catch(_0x3aa224){_0xb7576['push'](_0xb7576['shift']());}}}(a0_0x1935,0x4d5e2));function formatNumber(_0x457ba4){const _0x148a58=a0_0x3271;if(_0x457ba4>=0x3b9aca00)return(_0x457ba4/0x3b9aca00)['toFixed'](0x1)[_0x148a58(0x8f)](/\.0$/,'')+'b';else{if(_0x457ba4>=0xf4240)return(_0x457ba4/0xf4240)[_0x148a58(0x6c)](0x1)[_0x148a58(0x8f)](/\.0$/,'')+'m';else return _0x457ba4>=0x3e8?(_0x457ba4/0x3e8)['toFixed'](0x1)[_0x148a58(0x8f)](/\.0$/,'')+'k':_0x457ba4[_0x148a58(0x8b)]();}}function injectPriceEl(_0x2898ab,_0xd09dbf,_0x2a5b58='center',_0x5e6a03){const _0x51b717=a0_0x3271,{jn_price:_0x233d60,db_price:_0xc2599e,rarity:_0x254bd1}=_0xd09dbf,_0x76c89b=document[_0x51b717(0xa0)](_0x51b717(0xa3)),_0x3abc0e=document['createElement'](_0x51b717(0xa3)),_0x2deef6=document[_0x51b717(0xa0)]('div'),_0x809735=document[_0x51b717(0xa0)]('div');_0x76c89b[_0x51b717(0x8d)]=_0x51b717(0x6f),_0x2898ab[_0x51b717(0x70)][_0x51b717(0x89)](_0x76c89b,_0x2898ab),_0x76c89b['append'](_0x2898ab),_0x76c89b[_0x51b717(0x9e)][_0x51b717(0x95)]=_0x51b717(0xa1),_0x3abc0e[_0x51b717(0x9e)][_0x51b717(0x71)]=_0x51b717(0x81),_0x3abc0e[_0x51b717(0x9e)][_0x51b717(0xa8)]=_0x2a5b58,_0x3abc0e[_0x51b717(0x9e)][_0x51b717(0x72)]=0x320,_0x3abc0e[_0x51b717(0x9e)][_0x51b717(0x71)]='12px',_0x2deef6[_0x51b717(0x9e)][_0x51b717(0x92)]=_0x51b717(0x7c),_0x809735['style'][_0x51b717(0x92)]='#1A202C',_0x2deef6[_0x51b717(0x88)]='JN:'+(_0x233d60?formatNumber(Number(_0x233d60)):'?'),_0x809735[_0x51b717(0x88)]='DB:'+(_0xc2599e?formatNumber(Number(_0xc2599e)):'?'),_0x3abc0e[_0x51b717(0x85)](_0x2deef6),_0x3abc0e[_0x51b717(0x85)](_0x809735),_0x76c89b['append'](_0x3abc0e);if(_0x5e6a03){const _0x58e83f=document['createElement'](_0x51b717(0xa3));_0x58e83f[_0x51b717(0x9e)][_0x51b717(0x95)]=_0x51b717(0x74),_0x58e83f[_0x51b717(0x9e)][_0x51b717(0xa9)]=_0x51b717(0x7a),_0x58e83f['style'][_0x51b717(0x9a)]='0',_0x58e83f[_0x51b717(0x9e)][_0x51b717(0x7b)]='0',_0x58e83f[_0x51b717(0x9e)]['color']='#FF2C2C',_0x58e83f[_0x51b717(0x88)]='r'+_0x254bd1,_0x76c89b[_0x51b717(0x85)](_0x58e83f);}}function a0_0x3271(_0xc1cb66,_0x51a83b){const _0x19357c=a0_0x1935();return a0_0x3271=function(_0x327115,_0x1b5ccb){_0x327115=_0x327115-0x68;let _0x15ce34=_0x19357c[_0x327115];return _0x15ce34;},a0_0x3271(_0xc1cb66,_0x51a83b);}function fillAuction(){const _0x5a3589=a0_0x3271,_0x9b8792=document[_0x5a3589(0x6e)]('img[src^=\x22//images.neopets.com/items/\x22]:not(.img-wrapper\x20img)');for(let _0x1b3e27=0x0;_0x1b3e27<_0x9b8792[_0x5a3589(0xa4)];_0x1b3e27+=0x1){const _0x167008=_0x9b8792[_0x1b3e27],_0x2b0f84=_0x167008[_0x5a3589(0x70)][_0x5a3589(0x70)][_0x5a3589(0xa6)][_0x5a3589(0xa2)]('a')[_0x5a3589(0x82)][_0x5a3589(0x94)](),_0x480b39=window['npdata'][_0x2b0f84]||{};injectPriceEl(_0x167008,_0x480b39);}}function fillInventory(){const _0x41162a=a0_0x3271,_0x36e5e8=document[_0x41162a(0x6e)](_0x41162a(0x78));for(let _0x404b95=0x0;_0x404b95<_0x36e5e8['length'];_0x404b95+=0x1){const _0x3a35c1=_0x36e5e8[_0x404b95],_0x7be7b8=_0x3a35c1[_0x41162a(0x70)][_0x41162a(0xa2)](_0x41162a(0x6d))[_0x41162a(0x82)][_0x41162a(0x94)](),_0x224e5e=window[_0x41162a(0x8a)][_0x7be7b8]||{};injectPriceEl(_0x3a35c1,_0x224e5e);}}function fillQuickStock(){const _0x3f80e6=a0_0x3271,_0x29c003=document[_0x3f80e6(0x6e)](_0x3f80e6(0x98));for(let _0x1ec400=0x0;_0x1ec400<_0x29c003[_0x3f80e6(0xa4)];_0x1ec400+=0x1){const _0x41a24b=_0x29c003[_0x1ec400],_0x47dcb9=_0x41a24b[_0x3f80e6(0x82)]['trim'](),_0x4fda39=window['npdata'][_0x47dcb9]||{};injectPriceEl(_0x41a24b,_0x4fda39,'left');}}function fillSDB(){const _0x5275e0=a0_0x3271,_0x14ee8f=document[_0x5275e0(0x6e)]('img[src^=\x22//images.neopets.com/items/\x22]:not(.img-wrapper\x20img)');for(let _0x5117a6=0x0;_0x5117a6<_0x14ee8f[_0x5275e0(0xa4)];_0x5117a6+=0x1){console[_0x5275e0(0x8e)](_0x5117a6);const _0x5334bd=_0x14ee8f[_0x5117a6],_0x53afa3=_0x5334bd[_0x5275e0(0x70)][_0x5275e0(0x70)][_0x5275e0(0xa2)]('b');console[_0x5275e0(0x8e)](_0x53afa3);let _0x55b5d6;console['log'](_0x53afa3[_0x5275e0(0x6a)]);for(let _0x1baa4e=0x0;_0x1baa4e<_0x53afa3['childNodes']['length'];_0x1baa4e+=0x1){if(_0x53afa3[_0x5275e0(0x6a)][_0x1baa4e]['nodeType']===Node[_0x5275e0(0x6b)]){_0x55b5d6=_0x53afa3[_0x5275e0(0x6a)][_0x1baa4e][_0x5275e0(0x82)],console[_0x5275e0(0x8e)](_0x55b5d6);const _0x2b088c=window['npdata'][_0x55b5d6]||{};injectPriceEl(_0x5334bd,_0x2b088c);break;}}}}function fillTP(){const _0x4120b3=a0_0x3271,_0x423843=document['querySelectorAll'](_0x4120b3(0x73));for(let _0x55b06f=0x0;_0x55b06f<_0x423843[_0x4120b3(0xa4)];_0x55b06f+=0x1){const _0x526ae7=_0x423843[_0x55b06f],_0x4449c0=_0x526ae7['parentNode'][_0x4120b3(0x82)][_0x4120b3(0x94)](),_0x13ec4d=window[_0x4120b3(0x8a)][_0x4449c0]||{};injectPriceEl(_0x526ae7,_0x13ec4d,_0x4120b3(0x9d));}}function a0_0x1935(){const _0xa188f4=['nextSibling','/inventory.phtml','textAlign','backgroundColor','/island/tradingpost.phtml','#QuestLogStreakImg','childNodes','TEXT_NODE','toFixed','.item-name','querySelectorAll','img-wrapper','parentNode','fontSize','fontWeight','[src^=\x22//images.neopets.com/items\x22]:not(.img-wrapper\x20img)','absolute','3335ctkBfs','[src^=\x22https://images.neopets.com/items\x22]:not(.img-wrapper\x20img)','center','.item-img:not(.img-wrapper\x20.item-img)','4bJjNXS','#fff','right','#2D5A87','5593959HqSRxY','/questlog','7dOwZkJ','/tvw/rewards/','12px','textContent','/browseshop.phtml','img[src^=\x22https://images.neopets.com/items/\x22]:not(.img-wrapper\x20img)','append','1158Vilqdj','alt','innerHTML','insertBefore','npdata','toString','location','className','log','replace','6331850csYqPw','1532445NYCBfQ','color','includes','trim','position','/quickstock.phtml','8XtaUSF','[name=\x22quickstock\x22]\x20[align=\x22left\x22]:not(.img-wrapper\x20*)','798328GnDySM','top','/safetydeposit.phtml','15100833HzLsJH','left','style','70761pmAdif','createElement','relative','querySelector','div','length','/objects.phtml'];a0_0x1935=function(){return _0xa188f4;};return a0_0x1935();}function fillShop(){const _0x1c2bf7=a0_0x3271,_0x15d538=document['querySelectorAll']('.shop-item\x20.item-img:not(.img-wrapper\x20*)');for(let _0x2c414e=0x0;_0x2c414e<_0x15d538[_0x1c2bf7(0xa4)];_0x2c414e+=0x1){const _0x57ec3f=_0x15d538[_0x2c414e],_0x9bb471=_0x57ec3f['parentNode']['querySelector']('.item-name')[_0x1c2bf7(0x82)][_0x1c2bf7(0x94)]();console[_0x1c2bf7(0x8e)](_0x9bb471);const _0x584531=window[_0x1c2bf7(0x8a)][_0x9bb471]||{};injectPriceEl(_0x57ec3f,_0x584531,_0x1c2bf7(0x77),!![]);}}function fillQuest(){const _0x5f4681=a0_0x3271,_0x4badbc=document[_0x5f4681(0xa2)]('#QuestLogStreakBonus\x20.ql-bonus-img:not(.img-wrapper\x20*)');if(_0x4badbc){const _0x35d4f0=_0x4badbc['querySelector'](_0x5f4681(0x69))[_0x5f4681(0x87)],_0x4b9b82=window[_0x5f4681(0x8a)][_0x35d4f0]||{};injectPriceEl(_0x4badbc,_0x4b9b82);}const _0x41288b=document['querySelectorAll'](_0x5f4681(0x84));for(let _0x345132=0x0;_0x345132<_0x41288b[_0x5f4681(0xa4)];_0x345132+=0x1){const _0x70aac1=_0x41288b[_0x345132],_0x1e0976=_0x70aac1['parentNode']['parentNode'][_0x5f4681(0x82)][_0x5f4681(0x94)](),_0x56d4ce=window['npdata'][_0x1e0976]||{};injectPriceEl(_0x70aac1,_0x56d4ce);}}function fillUserShop(){const _0x10b22c=a0_0x3271,_0x5663c5=document['querySelectorAll']('img[src^=\x22https://images.neopets.com/items/\x22]:not(.img-wrapper\x20img)');for(let _0x44c5ba=0x0;_0x44c5ba<_0x5663c5['length'];_0x44c5ba+=0x1){const _0x3af65a=_0x5663c5[_0x44c5ba],_0x4af04a=_0x3af65a[_0x10b22c(0x70)][_0x10b22c(0x70)]['querySelector']('b')[_0x10b22c(0x82)][_0x10b22c(0x94)](),_0x5df9e8=window[_0x10b22c(0x8a)][_0x4af04a]||{};injectPriceEl(_0x3af65a,_0x5df9e8);}}function fillTVW(){const _0x536b19=a0_0x3271,_0x27d98d=document['querySelectorAll'](_0x536b19(0x76));for(let _0x42bb26=0x0;_0x42bb26<_0x27d98d[_0x536b19(0xa4)];_0x42bb26+=0x1){const _0x169c70=_0x27d98d[_0x42bb26],_0x40d4ba=_0x169c70[_0x536b19(0x70)][_0x536b19(0xa2)]('p')['textContent']['trim'](),_0x56ec06=window[_0x536b19(0x8a)][_0x40d4ba]||{};injectPriceEl(_0x169c70,_0x56ec06);}}function fillOther(){const _0x355cda=a0_0x3271,_0x24de7e=document['querySelectorAll'](_0x355cda(0x76));for(let _0x43125d=0x0;_0x43125d<_0x24de7e[_0x355cda(0xa4)];_0x43125d+=0x1){const _0x47bddc=_0x24de7e[_0x43125d],_0x262b19=_0x47bddc['parentNode'][_0x355cda(0x82)][_0x355cda(0x94)](),_0x5e0ed3=window[_0x355cda(0x8a)][_0x262b19]||{};injectPriceEl(_0x47bddc,_0x5e0ed3);}}(function(){'use strict';const _0x435aab=()=>{const _0x24b005=a0_0x3271,_0x48f2c2=window[_0x24b005(0x8c)]['href'];if(_0x48f2c2[_0x24b005(0x93)]('/auctions.phtml'))fillAuction();else{if(_0x48f2c2[_0x24b005(0x93)](_0x24b005(0xa7)))fillInventory();else{if(_0x48f2c2[_0x24b005(0x93)](_0x24b005(0x96)))fillQuickStock();else{if(_0x48f2c2[_0x24b005(0x93)](_0x24b005(0x68)))fillTP();else{if(_0x48f2c2[_0x24b005(0x93)](_0x24b005(0x9b)))fillSDB();else{if(_0x48f2c2[_0x24b005(0x93)](_0x24b005(0xa5)))fillShop();else{if(_0x48f2c2[_0x24b005(0x93)](_0x24b005(0x7e)))fillQuest();else{if(_0x48f2c2[_0x24b005(0x93)](_0x24b005(0x83)))fillUserShop();else _0x48f2c2[_0x24b005(0x93)](_0x24b005(0x80))?fillTVW():fillOther();}}}}}}}setTimeout(_0x435aab,0x3e8);};_0x435aab();}());
