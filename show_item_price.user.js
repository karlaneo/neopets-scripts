// ==UserScript==
// @name         Neopets - Item Value Display
// @namespace    karla@neopointskarla
// @license GPL3
// @version      0.0.1
// @description  Displays the value of items from Jellyneo and Itemsdb
// @author       Karla
// @match        *://*.neopets.com/*
// @homepage     https://neopointskarla.com
// @icon         https://www.google.com/s2/favicons?sz=64&domain=neopets.com
// @grant        GM_addStyle
// @require      https://cdn.jsdelivr.net/gh/karlaneo/data/data.js
// @downloadURL  https://cdn.jsdelivr.net/gh/karlaneo/neopets-scripts@main/show_item_price.user.js
// @updateURL    https://cdn.jsdelivr.net/gh/karlaneo/neopets-scripts@main/show_item_price.user.js
// ==/UserScript==

const a0_0x34cc7a=a0_0x617f;(function(_0x282498,_0x32a656){const _0x534980=a0_0x617f,_0x221495=_0x282498();while(!![]){try{const _0x1b167d=-parseInt(_0x534980(0x1f9))/0x1+-parseInt(_0x534980(0x1f6))/0x2*(-parseInt(_0x534980(0x1e5))/0x3)+parseInt(_0x534980(0x1e3))/0x4+-parseInt(_0x534980(0x1ed))/0x5+-parseInt(_0x534980(0x1d3))/0x6*(parseInt(_0x534980(0x1d5))/0x7)+-parseInt(_0x534980(0x1cf))/0x8*(parseInt(_0x534980(0x1f8))/0x9)+-parseInt(_0x534980(0x1c3))/0xa*(-parseInt(_0x534980(0x201))/0xb);if(_0x1b167d===_0x32a656)break;else _0x221495['push'](_0x221495['shift']());}catch(_0x23094a){_0x221495['push'](_0x221495['shift']());}}}(a0_0x4aaa,0x23e59));function formatNumber(_0x3428c8){const _0x12a783=a0_0x617f;if(_0x3428c8>=0x3b9aca00)return(_0x3428c8/0x3b9aca00)[_0x12a783(0x1ef)](0x1)[_0x12a783(0x1cd)](/\.0$/,'')+'b';else{if(_0x3428c8>=0xf4240)return(_0x3428c8/0xf4240)['toFixed'](0x1)[_0x12a783(0x1cd)](/\.0$/,'')+'m';else return _0x3428c8>=0x3e8?(_0x3428c8/0x3e8)[_0x12a783(0x1ef)](0x1)[_0x12a783(0x1cd)](/\.0$/,'')+'k':_0x3428c8[_0x12a783(0x203)]();}}function injectPriceEl(_0x216b91,_0x5fabe7,_0x82b679=a0_0x34cc7a(0x1e7),_0x1bd840,_0x2fd702=![]){const _0x53b3c9=a0_0x34cc7a,{jn_price:_0x41d1d9,db_price:_0x50e392,rarity:_0x1fdcb0}=_0x5fabe7,_0x36e51e=document['createElement']('div'),_0x1a1f28=document[_0x53b3c9(0x1f3)](_0x53b3c9(0x1f0)),_0x1253b3=document[_0x53b3c9(0x1f3)](_0x53b3c9(0x1f0)),_0x3a31e7=document[_0x53b3c9(0x1f3)]('div');_0x36e51e[_0x53b3c9(0x1d9)]=_0x53b3c9(0x1ee),_0x216b91[_0x53b3c9(0x1e2)][_0x53b3c9(0x1cc)](_0x36e51e,_0x216b91),_0x36e51e[_0x53b3c9(0x1c2)](_0x216b91),_0x36e51e[_0x53b3c9(0x205)][_0x53b3c9(0x1ca)]=_0x53b3c9(0x1e9),_0x1a1f28[_0x53b3c9(0x205)][_0x53b3c9(0x1da)]=_0x53b3c9(0x1c6),_0x1a1f28['style'][_0x53b3c9(0x1e1)]=_0x82b679,_0x1a1f28[_0x53b3c9(0x205)]['fontWeight']=0x320,_0x1a1f28[_0x53b3c9(0x205)][_0x53b3c9(0x1da)]=_0x53b3c9(0x1c6),_0x1253b3[_0x53b3c9(0x205)][_0x53b3c9(0x1ec)]=_0x53b3c9(0x208),_0x3a31e7[_0x53b3c9(0x205)]['color']=_0x53b3c9(0x1f5),_0x1253b3[_0x53b3c9(0x1d8)]=_0x53b3c9(0x1cb)+(_0x41d1d9?formatNumber(Number(_0x41d1d9)):'?'),_0x3a31e7[_0x53b3c9(0x1d8)]=_0x53b3c9(0x202)+(_0x50e392?formatNumber(Number(_0x50e392)):'?'),_0x1a1f28[_0x53b3c9(0x1c2)](_0x1253b3),_0x1a1f28[_0x53b3c9(0x1c2)](_0x3a31e7),_0x36e51e[_0x53b3c9(0x1c2)](_0x1a1f28);if(_0x1bd840){const _0x438db9=document['createElement'](_0x53b3c9(0x1f0));_0x438db9['style']['position']=_0x53b3c9(0x1ea),_0x438db9[_0x53b3c9(0x205)][_0x53b3c9(0x1fa)]=_0x53b3c9(0x1e6),_0x438db9[_0x53b3c9(0x205)][_0x53b3c9(0x1c5)]='0',_0x438db9['style'][_0x53b3c9(0x207)]='0',_0x438db9[_0x53b3c9(0x205)]['color']=_0x53b3c9(0x1f4),_0x438db9[_0x53b3c9(0x1d8)]='r'+_0x1fdcb0,_0x36e51e[_0x53b3c9(0x1c2)](_0x438db9);}_0x2fd702&&(_0x36e51e['style'][_0x53b3c9(0x1de)]=_0x53b3c9(0x1c8),_0x36e51e[_0x53b3c9(0x205)]['alignItems']=_0x53b3c9(0x1e7));}function fillAuction(){const _0x4521c1=a0_0x34cc7a,_0xefb49b=document[_0x4521c1(0x1fd)]('img[src^=\x22//images.neopets.com/items/\x22]:not(.img-wrapper\x20img)');for(let _0x4fd8b8=0x0;_0x4fd8b8<_0xefb49b[_0x4521c1(0x206)];_0x4fd8b8+=0x1){const _0x290925=_0xefb49b[_0x4fd8b8],_0x484dea=_0x290925[_0x4521c1(0x1e2)][_0x4521c1(0x1e2)][_0x4521c1(0x1c4)][_0x4521c1(0x1f7)]('a')[_0x4521c1(0x1df)][_0x4521c1(0x1f2)](),_0x3557a6=window[_0x4521c1(0x1eb)][_0x484dea]||{};injectPriceEl(_0x290925,_0x3557a6);}}function fillInventory(){const _0x4859d6=a0_0x34cc7a,_0x12da33=document[_0x4859d6(0x1fd)]('.item-img:not(.img-wrapper\x20.item-img)');for(let _0x529857=0x0;_0x529857<_0x12da33[_0x4859d6(0x206)];_0x529857+=0x1){const _0x5956ae=_0x12da33[_0x529857],_0x5139ea=_0x5956ae[_0x4859d6(0x1e2)]['querySelector'](_0x4859d6(0x1ce))[_0x4859d6(0x1df)][_0x4859d6(0x1f2)](),_0x33ff3e=window[_0x4859d6(0x1eb)][_0x5139ea]||{};injectPriceEl(_0x5956ae,_0x33ff3e);}}function fillQuickStock(){const _0x1174b9=a0_0x34cc7a,_0x386795=document['querySelectorAll']('[name=\x22quickstock\x22]\x20[align=\x22left\x22]:not(.img-wrapper\x20*)');for(let _0x2cb89f=0x0;_0x2cb89f<_0x386795['length'];_0x2cb89f+=0x1){const _0x32b712=_0x386795[_0x2cb89f],_0x452580=_0x32b712[_0x1174b9(0x1df)][_0x1174b9(0x1f2)](),_0x1fc109=window[_0x1174b9(0x1eb)][_0x452580]||{};injectPriceEl(_0x32b712,_0x1fc109,_0x1174b9(0x1fb));}}function fillSDB(){const _0x536275=a0_0x34cc7a,_0x2c3de5=document[_0x536275(0x1fd)](_0x536275(0x1dd));for(let _0x2501ae=0x0;_0x2501ae<_0x2c3de5[_0x536275(0x206)];_0x2501ae+=0x1){console[_0x536275(0x1d7)](_0x2501ae);const _0x5ebac8=_0x2c3de5[_0x2501ae],_0x175f15=_0x5ebac8[_0x536275(0x1e2)][_0x536275(0x1e2)][_0x536275(0x1f7)]('b');console['log'](_0x175f15);let _0x4e4764;console['log'](_0x175f15[_0x536275(0x1dc)]);for(let _0x22d5ff=0x0;_0x22d5ff<_0x175f15[_0x536275(0x1dc)][_0x536275(0x206)];_0x22d5ff+=0x1){if(_0x175f15['childNodes'][_0x22d5ff][_0x536275(0x1d6)]===Node[_0x536275(0x1f1)]){_0x4e4764=_0x175f15['childNodes'][_0x22d5ff][_0x536275(0x1df)],console[_0x536275(0x1d7)](_0x4e4764);const _0x93ffb=window[_0x536275(0x1eb)][_0x4e4764]||{};injectPriceEl(_0x5ebac8,_0x93ffb);break;}}}}function fillTP(){const _0x392468=a0_0x34cc7a,_0x580206=document['querySelectorAll']('[src^=\x22//images.neopets.com/items\x22]:not(.img-wrapper\x20img)');for(let _0x3e971c=0x0;_0x3e971c<_0x580206[_0x392468(0x206)];_0x3e971c+=0x1){const _0x1c4146=_0x580206[_0x3e971c],_0x2bfb3a=_0x1c4146['parentNode'][_0x392468(0x1df)][_0x392468(0x1f2)](),_0x49a3d6=window[_0x392468(0x1eb)][_0x2bfb3a]||{};injectPriceEl(_0x1c4146,_0x49a3d6,_0x392468(0x1fb),![],!![]);}}function a0_0x4aaa(){const _0x160468=['left','/questlog','querySelectorAll','/quickstock.phtml','includes','/browseshop.phtml','3734137IUKAPl','DB:','toString','.shop-item\x20.item-img:not(.img-wrapper\x20*)','style','length','right','#2D5A87','append','20xLVHNT','nextSibling','top','12px','[src^=\x22https://images.neopets.com/items\x22]:not(.img-wrapper\x20img)','flex','/auctions.phtml','position','JN:','insertBefore','replace','.item-name','936lGIuJV','href','/objects.phtml','#QuestLogStreakBonus\x20.ql-bonus-img:not(.img-wrapper\x20*)','297546hRKPNF','/island/tradingpost.phtml','7NwEJeZ','nodeType','log','innerHTML','className','fontSize','/safetydeposit.phtml','childNodes','img[src^=\x22//images.neopets.com/items/\x22]:not(.img-wrapper\x20img)','display','textContent','/inventory.phtml','textAlign','parentNode','55280AxDHui','img[src^=\x22https://images.neopets.com/items/\x22]:not(.img-wrapper\x20img)','51synvRs','#fff','center','#QuestLogStreakImg','relative','absolute','npdata','color','636715hfATUz','img-wrapper','toFixed','div','TEXT_NODE','trim','createElement','#FF2C2C','#1A202C','9170ZQMifz','querySelector','17937JHVroy','213551usMufh','backgroundColor'];a0_0x4aaa=function(){return _0x160468;};return a0_0x4aaa();}function fillShop(){const _0x25ee8a=a0_0x34cc7a,_0x543c8d=document[_0x25ee8a(0x1fd)](_0x25ee8a(0x204));for(let _0x276684=0x0;_0x276684<_0x543c8d[_0x25ee8a(0x206)];_0x276684+=0x1){const _0x1fadb3=_0x543c8d[_0x276684],_0x5d1125=_0x1fadb3[_0x25ee8a(0x1e2)][_0x25ee8a(0x1f7)](_0x25ee8a(0x1ce))[_0x25ee8a(0x1df)][_0x25ee8a(0x1f2)]();console['log'](_0x5d1125);const _0x20e291=window[_0x25ee8a(0x1eb)][_0x5d1125]||{};injectPriceEl(_0x1fadb3,_0x20e291,_0x25ee8a(0x1e7),!![]);}}function fillQuest(){const _0x232aa5=a0_0x34cc7a,_0x2b9d82=document[_0x232aa5(0x1f7)](_0x232aa5(0x1d2));if(_0x2b9d82){const _0x76cdf9=_0x2b9d82['querySelector'](_0x232aa5(0x1e8))['alt'],_0x55309b=window[_0x232aa5(0x1eb)][_0x76cdf9]||{};injectPriceEl(_0x2b9d82,_0x55309b);}const _0x3b90fe=document[_0x232aa5(0x1fd)](_0x232aa5(0x1e4));for(let _0x44f3b0=0x0;_0x44f3b0<_0x3b90fe[_0x232aa5(0x206)];_0x44f3b0+=0x1){const _0x4fadb8=_0x3b90fe[_0x44f3b0],_0x4b88=_0x4fadb8['parentNode'][_0x232aa5(0x1e2)]['textContent'][_0x232aa5(0x1f2)](),_0x605aef=window['npdata'][_0x4b88]||{};injectPriceEl(_0x4fadb8,_0x605aef);}}function fillUserShop(){const _0x1a62e4=a0_0x34cc7a,_0x3f1007=document['querySelectorAll']('img[src^=\x22https://images.neopets.com/items/\x22]:not(.img-wrapper\x20img)');for(let _0xaa02=0x0;_0xaa02<_0x3f1007[_0x1a62e4(0x206)];_0xaa02+=0x1){const _0x3ff0d6=_0x3f1007[_0xaa02],_0x41a211=_0x3ff0d6[_0x1a62e4(0x1e2)]['parentNode']['querySelector']('b')[_0x1a62e4(0x1df)]['trim'](),_0x45f22e=window[_0x1a62e4(0x1eb)][_0x41a211]||{};injectPriceEl(_0x3ff0d6,_0x45f22e);}}function fillTVW(){const _0x47d9e4=a0_0x34cc7a,_0x2289f8=document[_0x47d9e4(0x1fd)](_0x47d9e4(0x1c7));for(let _0x145deb=0x0;_0x145deb<_0x2289f8['length'];_0x145deb+=0x1){const _0x5b1978=_0x2289f8[_0x145deb],_0x2d2f4c=_0x5b1978[_0x47d9e4(0x1e2)][_0x47d9e4(0x1f7)]('p')[_0x47d9e4(0x1df)][_0x47d9e4(0x1f2)](),_0x3e5b38=window[_0x47d9e4(0x1eb)][_0x2d2f4c]||{};injectPriceEl(_0x5b1978,_0x3e5b38);}}function a0_0x617f(_0x17db81,_0x1344bd){const _0x4aaa3f=a0_0x4aaa();return a0_0x617f=function(_0x617f86,_0x4d0f37){_0x617f86=_0x617f86-0x1c2;let _0x1b9da7=_0x4aaa3f[_0x617f86];return _0x1b9da7;},a0_0x617f(_0x17db81,_0x1344bd);}function fillOther(){const _0x5551f1=a0_0x34cc7a,_0x215ca7=document[_0x5551f1(0x1fd)]('[src^=\x22https://images.neopets.com/items\x22]:not(.img-wrapper\x20img)');for(let _0x13892a=0x0;_0x13892a<_0x215ca7[_0x5551f1(0x206)];_0x13892a+=0x1){const _0x45ae96=_0x215ca7[_0x13892a],_0x5c329d=_0x45ae96[_0x5551f1(0x1e2)][_0x5551f1(0x1df)][_0x5551f1(0x1f2)](),_0xa07ad=window['npdata'][_0x5c329d];console['log'](_0xa07ad);if(!_0xa07ad)continue;injectPriceEl(_0x45ae96,_0xa07ad);}}(function(){'use strict';const _0x256953=()=>{const _0x5ae650=a0_0x617f,_0x4ae17f=window['location'][_0x5ae650(0x1d0)];if(_0x4ae17f['includes'](_0x5ae650(0x1c9)))fillAuction();else{if(_0x4ae17f[_0x5ae650(0x1ff)](_0x5ae650(0x1e0)))fillInventory();else{if(_0x4ae17f[_0x5ae650(0x1ff)](_0x5ae650(0x1fe)))fillQuickStock();else{if(_0x4ae17f[_0x5ae650(0x1ff)](_0x5ae650(0x1d4)))fillTP();else{if(_0x4ae17f[_0x5ae650(0x1ff)](_0x5ae650(0x1db)))fillSDB();else{if(_0x4ae17f['includes'](_0x5ae650(0x1d1)))fillShop();else{if(_0x4ae17f[_0x5ae650(0x1ff)](_0x5ae650(0x1fc)))fillQuest();else{if(_0x4ae17f[_0x5ae650(0x1ff)](_0x5ae650(0x200)))fillUserShop();else _0x4ae17f[_0x5ae650(0x1ff)]('/tvw/rewards/')?fillTVW():fillOther();}}}}}}}setTimeout(_0x256953,0x3e8);};_0x256953();}());
