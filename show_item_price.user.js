// ==UserScript==
// @name         Neopets - Karla's Item Value Display
// @namespace    karla@neopointskarla
// @license      GPL3
// @version      0.2.0
// @description  Displays the value of items from Jellyneo and Itemsdb
// @author       Karla
// @match        *://*.neopets.com/*
// @homepage     https://neopointskarla.com
// @icon         https://github.com/karlaneo/neopets-scripts/blob/main/favicon-32x32.png?raw=true
// @grant        GM_addStyle
// @require      https://cdn.jsdelivr.net/gh/karlaneo/data/data.js
// @downloadURL  https://github.com/karlaneo/neopets-scripts/raw/refs/heads/main/show_item_price.user.js
// @updateURL    https://github.com/karlaneo/neopets-scripts/raw/refs/heads/main/show_item_price.user.js
// ==/UserScript==

(function(_0x2bf8ba,_0x2b6eb9){const _0x56a7fc=a0_0x243a,_0x5ea12f=_0x2bf8ba();while(!![]){try{const _0x624b11=parseInt(_0x56a7fc(0x123))/0x1*(-parseInt(_0x56a7fc(0x120))/0x2)+-parseInt(_0x56a7fc(0xfd))/0x3+parseInt(_0x56a7fc(0x113))/0x4+-parseInt(_0x56a7fc(0x119))/0x5*(parseInt(_0x56a7fc(0x104))/0x6)+parseInt(_0x56a7fc(0x128))/0x7*(parseInt(_0x56a7fc(0xf4))/0x8)+-parseInt(_0x56a7fc(0x11f))/0x9+parseInt(_0x56a7fc(0x11a))/0xa;if(_0x624b11===_0x2b6eb9)break;else _0x5ea12f['push'](_0x5ea12f['shift']());}catch(_0x1cd36d){_0x5ea12f['push'](_0x5ea12f['shift']());}}}(a0_0x5867,0x5c046));function formatNumber(_0x445c8d){const _0x5455e4=a0_0x243a;if(_0x445c8d>=0x3b9aca00)return(_0x445c8d/0x3b9aca00)[_0x5455e4(0x127)](0x1)[_0x5455e4(0xf5)](/\.0$/,'')+'b';else{if(_0x445c8d>=0xf4240)return(_0x445c8d/0xf4240)[_0x5455e4(0x127)](0x1)[_0x5455e4(0xf5)](/\.0$/,'')+'m';else return _0x445c8d>=0x3e8?(_0x445c8d/0x3e8)[_0x5455e4(0x127)](0x1)[_0x5455e4(0xf5)](/\.0$/,'')+'k':_0x445c8d[_0x5455e4(0xfa)]();}}function injectPriceEl(_0x4c8943,_0x1aa55d,_0x5f2f92='center',_0x2916a9,_0xdb60d=![]){const _0x571fe1=a0_0x243a,{jn_price:_0x10e457,db_price:_0x3d1b27,rarity:_0x300048}=_0x1aa55d,_0x2cbe59=document['createElement'](_0x571fe1(0x108)),_0x57f7eb=document[_0x571fe1(0x134)](_0x571fe1(0x108)),_0x12f51b=document[_0x571fe1(0x134)](_0x571fe1(0x108)),_0x495c74=document[_0x571fe1(0x134)](_0x571fe1(0x108));_0x2cbe59[_0x571fe1(0x117)]=_0x571fe1(0xff),_0x4c8943[_0x571fe1(0x131)][_0x571fe1(0x109)](_0x2cbe59,_0x4c8943),_0x2cbe59[_0x571fe1(0x110)](_0x4c8943),_0x2cbe59['style'][_0x571fe1(0x112)]=_0x571fe1(0xfb),_0x57f7eb[_0x571fe1(0x11e)]['fontSize']=_0x571fe1(0xf3),_0x57f7eb['style'][_0x571fe1(0x106)]=_0x5f2f92,_0x57f7eb[_0x571fe1(0x11e)][_0x571fe1(0xfc)]=0x320,_0x57f7eb[_0x571fe1(0x11e)][_0x571fe1(0x10d)]=_0x571fe1(0xf3),_0x12f51b['style'][_0x571fe1(0xf7)]=_0x571fe1(0x12e),_0x495c74[_0x571fe1(0x11e)][_0x571fe1(0xf7)]=_0x571fe1(0x132),_0x12f51b[_0x571fe1(0x105)]=_0x571fe1(0x12c)+(_0x10e457?formatNumber(Number(_0x10e457)):'?'),_0x495c74['innerHTML']=_0x571fe1(0xee)+(_0x3d1b27?formatNumber(Number(_0x3d1b27)):'?'),_0x57f7eb[_0x571fe1(0x110)](_0x12f51b),_0x57f7eb['append'](_0x495c74),_0x2cbe59[_0x571fe1(0x110)](_0x57f7eb);if(_0x2916a9){const _0xe6825c=document[_0x571fe1(0x134)](_0x571fe1(0x108));_0xe6825c[_0x571fe1(0x11e)][_0x571fe1(0x112)]=_0x571fe1(0x114),_0xe6825c[_0x571fe1(0x11e)][_0x571fe1(0x10b)]='#fff',_0xe6825c[_0x571fe1(0x11e)][_0x571fe1(0x118)]='0',_0xe6825c[_0x571fe1(0x11e)][_0x571fe1(0x103)]='0',_0xe6825c[_0x571fe1(0x11e)][_0x571fe1(0xf7)]='#FF2C2C',_0xe6825c['innerHTML']='r'+_0x300048,_0x2cbe59[_0x571fe1(0x110)](_0xe6825c);}_0xdb60d&&(_0x2cbe59[_0x571fe1(0x11e)]['display']=_0x571fe1(0x11b),_0x2cbe59['style'][_0x571fe1(0xf6)]='center');}function fillAuction(){const _0x552c97=a0_0x243a,_0xa77a52=document[_0x552c97(0x101)](_0x552c97(0x100));for(let _0x3543fd=0x0;_0x3543fd<_0xa77a52[_0x552c97(0x107)];_0x3543fd+=0x1){const _0x4c3b92=_0xa77a52[_0x3543fd],_0x1017c6=_0x4c3b92['parentNode'][_0x552c97(0x131)]['nextSibling']['querySelector']('a')[_0x552c97(0x115)]['trim'](),_0x3b794f=window[_0x552c97(0x122)][_0x1017c6]||{};injectPriceEl(_0x4c3b92,_0x3b794f);}}function fillInventory(){const _0x4e5e47=a0_0x243a,_0x5cf21a=document[_0x4e5e47(0x101)](_0x4e5e47(0x133));for(let _0x3a3d04=0x0;_0x3a3d04<_0x5cf21a[_0x4e5e47(0x107)];_0x3a3d04+=0x1){const _0x1cf947=_0x5cf21a[_0x3a3d04],_0x470897=_0x1cf947[_0x4e5e47(0x131)][_0x4e5e47(0x124)](_0x4e5e47(0xec))[_0x4e5e47(0x115)][_0x4e5e47(0xf2)](),_0x1d198b=window['npdata'][_0x470897]||{};injectPriceEl(_0x1cf947,_0x1d198b);}}function fillQuickStock(){const _0x3ad236=a0_0x243a,_0x353c7a=document[_0x3ad236(0x101)](_0x3ad236(0x102));for(let _0x315d7c=0x0;_0x315d7c<_0x353c7a[_0x3ad236(0x107)];_0x315d7c+=0x1){const _0x3ef54a=_0x353c7a[_0x315d7c],_0x44a128=_0x3ef54a[_0x3ad236(0x115)]['trim'](),_0x22d753=window[_0x3ad236(0x122)][_0x44a128]||{};injectPriceEl(_0x3ef54a,_0x22d753,_0x3ad236(0x10e));}}function fillSDB(){const _0x475f6d=a0_0x243a,_0x16231c=document[_0x475f6d(0x101)](_0x475f6d(0x100));for(let _0x5882a8=0x0;_0x5882a8<_0x16231c[_0x475f6d(0x107)];_0x5882a8+=0x1){const _0x452161=_0x16231c[_0x5882a8],_0x2a57a8=_0x452161[_0x475f6d(0x131)]['parentNode'][_0x475f6d(0x124)]('b');console[_0x475f6d(0x121)](_0x2a57a8);let _0x37282b;console[_0x475f6d(0x121)](_0x2a57a8[_0x475f6d(0x12b)]);for(let _0x385aca=0x0;_0x385aca<_0x2a57a8['childNodes'][_0x475f6d(0x107)];_0x385aca+=0x1){if(_0x2a57a8[_0x475f6d(0x12b)][_0x385aca]['nodeType']===Node[_0x475f6d(0x130)]){_0x37282b=_0x2a57a8[_0x475f6d(0x12b)][_0x385aca][_0x475f6d(0x115)],console[_0x475f6d(0x121)](_0x37282b);const _0xe2b9d=window['npdata'][_0x37282b]||{};injectPriceEl(_0x452161,_0xe2b9d);break;}}}}function fillTP(){const _0x1c4f11=a0_0x243a,_0x258cdc=document[_0x1c4f11(0x101)]('[src^=\x22//images.neopets.com/items\x22]:not(.img-wrapper\x20img)');for(let _0x541115=0x0;_0x541115<_0x258cdc[_0x1c4f11(0x107)];_0x541115+=0x1){const _0x44f6f8=_0x258cdc[_0x541115],_0x54c50e=_0x44f6f8['parentNode'][_0x1c4f11(0x115)][_0x1c4f11(0xf2)](),_0x13f3ad=window[_0x1c4f11(0x122)][_0x54c50e]||{};injectPriceEl(_0x44f6f8,_0x13f3ad,_0x1c4f11(0x10e),![],!![]);}}function fillShop(){const _0x8b96f2=a0_0x243a,_0x3d3919=document[_0x8b96f2(0x101)](_0x8b96f2(0xf1));for(let _0x332263=0x0;_0x332263<_0x3d3919[_0x8b96f2(0x107)];_0x332263+=0x1){const _0xd43e96=_0x3d3919[_0x332263],_0x2827ac=_0xd43e96[_0x8b96f2(0x131)][_0x8b96f2(0x124)](_0x8b96f2(0xec))[_0x8b96f2(0x115)][_0x8b96f2(0xf2)]();console['log'](_0x2827ac);const _0x3c7a9f=window[_0x8b96f2(0x122)][_0x2827ac]||{};injectPriceEl(_0xd43e96,_0x3c7a9f,'center',!![]);}}function fillQuest(){const _0x5f0ef2=a0_0x243a,_0x1b8b0c=document[_0x5f0ef2(0x124)](_0x5f0ef2(0x116));if(_0x1b8b0c){const _0x2380b2=_0x1b8b0c['querySelector'](_0x5f0ef2(0x10f))[_0x5f0ef2(0x11c)],_0x4ff225=window['npdata'][_0x2380b2]||{};injectPriceEl(_0x1b8b0c,_0x4ff225);}const _0x5b6c9e=document['querySelectorAll'](_0x5f0ef2(0x12a));for(let _0x306418=0x0;_0x306418<_0x5b6c9e['length'];_0x306418+=0x1){const _0x4b0345=_0x5b6c9e[_0x306418],_0x17e066=_0x4b0345['parentNode'][_0x5f0ef2(0x131)][_0x5f0ef2(0x115)]['trim'](),_0x1560e6=window[_0x5f0ef2(0x122)][_0x17e066]||{};injectPriceEl(_0x4b0345,_0x1560e6);}}function fillUserShop(){const _0x5a0aa1=a0_0x243a,_0x359d07=document[_0x5a0aa1(0x101)](_0x5a0aa1(0x12a));for(let _0x407eed=0x0;_0x407eed<_0x359d07[_0x5a0aa1(0x107)];_0x407eed+=0x1){const _0xe81538=_0x359d07[_0x407eed],_0x45d113=_0xe81538['parentNode']['parentNode'][_0x5a0aa1(0x124)]('b')[_0x5a0aa1(0x115)]['trim'](),_0x2d3ad2=window['npdata'][_0x45d113]||{};injectPriceEl(_0xe81538,_0x2d3ad2);}}function a0_0x5867(){const _0x4940cf=['.item-name','/tvw/rewards/','DB:','img','/halloween/garage','.shop-item\x20.item-img:not(.img-wrapper\x20*)','trim','12px','8TbufCE','replace','alignItems','color','href','180px','toString','relative','fontWeight','1555611sbthWO','/safetydeposit.phtml','img-wrapper','img[src^=\x22//images.neopets.com/items/\x22]:not(.img-wrapper\x20img)','querySelectorAll','[name=\x22quickstock\x22]\x20[align=\x22left\x22]:not(.img-wrapper\x20*)','right','396PQiQHW','innerHTML','textAlign','length','div','insertBefore','[src^=\x22https://images.neopets.com/items\x22]:not(.img-wrapper\x20img)','backgroundColor','/questlog','fontSize','left','#QuestLogStreakImg','append','#items\x20li','position','2034504UpyEyI','absolute','textContent','#QuestLogStreakBonus\x20.ql-bonus-img:not(.img-wrapper\x20*)','className','top','52060qLXTmj','17083360AjYIEA','flex','alt','.img-wrapper','style','4065651kdxFiK','1323854giUcBa','log','npdata','1IxNJYP','querySelector','/inventory.phtml','includes','toFixed','3355345UQhFBF','/auctions.phtml','img[src^=\x22https://images.neopets.com/items/\x22]:not(.img-wrapper\x20img)','childNodes','JN:','/objects.phtml','#2D5A87','/quickstock.phtml','TEXT_NODE','parentNode','#1A202C','.item-img:not(.img-wrapper\x20.item-img)','createElement'];a0_0x5867=function(){return _0x4940cf;};return a0_0x5867();}function fillTVW(){const _0x333094=a0_0x243a,_0x3fa149=document[_0x333094(0x101)]('[src^=\x22https://images.neopets.com/items\x22]:not(.img-wrapper\x20img)');for(let _0x3edf80=0x0;_0x3edf80<_0x3fa149[_0x333094(0x107)];_0x3edf80+=0x1){const _0x146254=_0x3fa149[_0x3edf80],_0xc32e22=_0x146254[_0x333094(0x131)][_0x333094(0x124)]('p')[_0x333094(0x115)]['trim'](),_0x174a44=window[_0x333094(0x122)][_0xc32e22]||{};injectPriceEl(_0x146254,_0x174a44);}}function fillOther(){const _0x7336e3=a0_0x243a,_0x24f6ce=document[_0x7336e3(0x101)](_0x7336e3(0x10a));for(let _0x5289bc=0x0;_0x5289bc<_0x24f6ce[_0x7336e3(0x107)];_0x5289bc+=0x1){const _0x31fbba=_0x24f6ce[_0x5289bc],_0x3e1d9e=_0x31fbba['parentNode'][_0x7336e3(0x115)][_0x7336e3(0xf2)](),_0xef0a7=window[_0x7336e3(0x122)][_0x3e1d9e];if(!_0xef0a7)continue;injectPriceEl(_0x31fbba,_0xef0a7);}}function a0_0x243a(_0x5b8bf0,_0xa6dbe5){const _0x5867de=a0_0x5867();return a0_0x243a=function(_0x243a7c,_0x5301f4){_0x243a7c=_0x243a7c-0xec;let _0x8403d4=_0x5867de[_0x243a7c];return _0x8403d4;},a0_0x243a(_0x5b8bf0,_0xa6dbe5);}function fillAAA(){const _0x105129=a0_0x243a,_0x4552f7=document[_0x105129(0x101)](_0x105129(0x111));for(let _0x5ac82d=0x0;_0x5ac82d<_0x4552f7['length'];_0x5ac82d+=0x1){if(_0x4552f7[_0x5ac82d]['querySelector'](_0x105129(0x11d)))continue;_0x4552f7[_0x5ac82d]['style']['height']=_0x105129(0xf9);const _0x17da50=_0x4552f7[_0x5ac82d][_0x105129(0x124)]('b')[_0x105129(0x115)],_0x53f488=window[_0x105129(0x122)][_0x17da50];if(!_0x53f488)continue;injectPriceEl(_0x4552f7[_0x5ac82d]['querySelector'](_0x105129(0xef)),_0x53f488);}}(function(){'use strict';const _0x141cd=()=>{const _0x5bd789=a0_0x243a,_0x300192=window['location'][_0x5bd789(0xf8)];if(_0x300192[_0x5bd789(0x126)](_0x5bd789(0x129)))fillAuction();else{if(_0x300192[_0x5bd789(0x126)](_0x5bd789(0x125)))fillInventory();else{if(_0x300192[_0x5bd789(0x126)](_0x5bd789(0x12f)))fillQuickStock();else{if(_0x300192[_0x5bd789(0x126)]('/island/tradingpost.phtml'))fillTP();else{if(_0x300192[_0x5bd789(0x126)](_0x5bd789(0xfe)))fillSDB();else{if(_0x300192['includes'](_0x5bd789(0x12d)))fillShop();else{if(_0x300192[_0x5bd789(0x126)](_0x5bd789(0x10c)))fillQuest();else{if(_0x300192['includes']('/browseshop.phtml'))fillUserShop();else{if(_0x300192['includes'](_0x5bd789(0xed)))fillTVW();else _0x300192[_0x5bd789(0x126)](_0x5bd789(0xf0))?fillAAA():fillOther();}}}}}}}}setTimeout(_0x141cd,0x3e8);};_0x141cd();}());
