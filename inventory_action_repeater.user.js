// ==UserScript==
// @name         Neopets - Karla's Inventory Action Repeater
// @license      GPL3
// @version      0.0.2
// @description  Automatically use items in your inventory, great for feeding stat boosters, getting avatars, breaking toys, etc.
// @author       Karla
// @match        *://*.neopets.com/inventory*
// @icon         https://github.com/karlaneo/neopets-scripts/blob/main/favicon-32x32.png?raw=true
// @downloadURL  https://github.com/karlaneo/neopets-scripts/raw/refs/heads/main/inventory_action_repeater.user.js
// @updateURL    https://github.com/karlaneo/neopets-scripts/raw/refs/heads/main/inventory_action_repeater.user.js
// ==/UserScript==

(function(_0x4ff963,_0x4c7236){const _0x305855=a0_0xd28e,_0x24d4e9=_0x4ff963();while(!![]){try{const _0x27b481=parseInt(_0x305855(0x77))/0x1+-parseInt(_0x305855(0x82))/0x2*(parseInt(_0x305855(0x84))/0x3)+-parseInt(_0x305855(0xa4))/0x4*(parseInt(_0x305855(0x7b))/0x5)+parseInt(_0x305855(0x7d))/0x6*(-parseInt(_0x305855(0x86))/0x7)+parseInt(_0x305855(0x9c))/0x8*(-parseInt(_0x305855(0x8c))/0x9)+parseInt(_0x305855(0x75))/0xa+parseInt(_0x305855(0x7c))/0xb;if(_0x27b481===_0x4c7236)break;else _0x24d4e9['push'](_0x24d4e9['shift']());}catch(_0x4528fa){_0x24d4e9['push'](_0x24d4e9['shift']());}}}(a0_0x41b8,0x46835));let stopAvatar=![],bloatBGone=![];(async function(){'use strict';const _0x3c28d5=a0_0xd28e;try{const _0x24db77=await fetch('https://www.neopets.com/np-templates/ajax/inventory.php?itemType=np&alpha=&itemStack=1&action=',{'headers':{'accept':_0x3c28d5(0xa0),'accept-language':'en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7,zh-TW;q=0.6,es;q=0.5','x-requested-with':'XMLHttpRequest'},'referrer':_0x3c28d5(0x85),'body':null,'method':_0x3c28d5(0x80),'mode':_0x3c28d5(0x9f),'credentials':_0x3c28d5(0x70)})[_0x3c28d5(0x8b)](_0x451577=>_0x451577[_0x3c28d5(0x9e)]()),_0x56442a=new DOMParser(),_0x37f213=_0x56442a['parseFromString'](_0x24db77,'text/html'),_0x54160f=Array['from'](_0x37f213['querySelectorAll'](_0x3c28d5(0x9b)))[_0x3c28d5(0x8f)](_0x250386=>_0x250386[_0x3c28d5(0x83)]),_0x17b76d=document[_0x3c28d5(0x9a)]('div');_0x17b76d['innerHTML']=_0x3c28d5(0x94),_0x17b76d['querySelector'](_0x3c28d5(0x92))[_0x3c28d5(0x72)](_0x3c28d5(0x97),function(_0x56bee2){const _0xef6877=_0x3c28d5;stopAvatar=_0x56bee2['currentTarget'][_0xef6877(0x91)];}),_0x17b76d['querySelector'](_0x3c28d5(0xa8))[_0x3c28d5(0x72)](_0x3c28d5(0x97),function(_0xbdd78a){const _0x287e9d=_0x3c28d5;bloatBGone=_0xbdd78a[_0x287e9d(0xa6)][_0x287e9d(0x91)];}),_0x17b76d[_0x3c28d5(0x88)](_0x3c28d5(0x9d))[_0x3c28d5(0x8e)]='<option>Select\x20Item</option>'+_0x54160f[_0x3c28d5(0x8f)](_0x4f574a=>'<option\x20value=\x22'+_0x4f574a+'\x22>'+_0x4f574a+_0x3c28d5(0x79))[_0x3c28d5(0xa1)]('\x0a'),_0x17b76d[_0x3c28d5(0x88)](_0x3c28d5(0x9d))[_0x3c28d5(0x72)]('change',async function(_0x371771){const _0x5765c5=_0x3c28d5;_0x371771[_0x5765c5(0xa6)]['disabled']=!![];const _0x39d31e=_0x371771['currentTarget']['value'],_0x4c23b6=await fetch('https://www.neopets.com/np-templates/ajax/inventory.php?itemType=np&alpha=&itemStack=1&action=',{'headers':{'accept':'*/*','accept-language':_0x5765c5(0x71),'x-requested-with':_0x5765c5(0x96)},'referrer':'https://www.neopets.com/inventory.phtml','body':null,'method':_0x5765c5(0x80),'mode':_0x5765c5(0x9f),'credentials':_0x5765c5(0x70)})[_0x5765c5(0x8b)](_0x7c27f=>_0x7c27f[_0x5765c5(0x9e)]()),_0x1696f9=new DOMParser(),_0x20046b=_0x1696f9[_0x5765c5(0x95)](_0x4c23b6,_0x5765c5(0x89)),_0x6b0dce=document['querySelector'](_0x5765c5(0x74)+_0x39d31e+'\x22]')[_0x5765c5(0x7e)][_0x5765c5(0x76)],_0x19d23b=await fetch(_0x5765c5(0xa3)+_0x6b0dce,{'headers':{'accept':'*/*','accept-language':_0x5765c5(0x71),'x-requested-with':'XMLHttpRequest'},'referrer':_0x5765c5(0x85),'body':null,'method':'POST','mode':_0x5765c5(0x9f),'credentials':_0x5765c5(0x70)})['then'](_0x28b33a=>_0x28b33a[_0x5765c5(0x9e)]()),_0x2e0ae7=_0x1696f9['parseFromString'](_0x19d23b,_0x5765c5(0x89));document[_0x5765c5(0x88)](_0x5765c5(0x73))[_0x5765c5(0x8e)]=_0x2e0ae7[_0x5765c5(0x88)](_0x5765c5(0x87))[_0x5765c5(0x8e)],_0x371771[_0x5765c5(0xa6)][_0x5765c5(0xa5)]=![];}),_0x17b76d[_0x3c28d5(0x88)]('#k-repeat')[_0x3c28d5(0x72)](_0x3c28d5(0x90),async function(_0x3f6f40){const _0x4b26f6=_0x3c28d5;_0x3f6f40[_0x4b26f6(0xa6)][_0x4b26f6(0xa5)]=!![];const _0x42ef51=document[_0x4b26f6(0x88)](_0x4b26f6(0x9d))[_0x4b26f6(0x81)];while(!![]){await fetch(_0x4b26f6(0x85),{'headers':{'accept':_0x4b26f6(0x98),'accept-language':'en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7,zh-TW;q=0.6,es;q=0.5'},'body':null,'method':_0x4b26f6(0xa2),'mode':_0x4b26f6(0x9f),'credentials':_0x4b26f6(0x70)}),await new Promise(_0xfae8ab=>{setTimeout(_0xfae8ab,0x1f4);});const _0x555559=await fetch(_0x4b26f6(0x7a),{'headers':{'accept':_0x4b26f6(0xa0),'accept-language':_0x4b26f6(0x71),'x-requested-with':_0x4b26f6(0x96)},'referrer':_0x4b26f6(0x85),'body':null,'method':_0x4b26f6(0x80),'mode':_0x4b26f6(0x9f),'credentials':_0x4b26f6(0x70)})['then'](_0x3e8d29=>_0x3e8d29[_0x4b26f6(0x9e)]()),_0x13dc1c=new DOMParser(),_0xba9172=_0x13dc1c[_0x4b26f6(0x95)](_0x555559,_0x4b26f6(0x89)),_0x2e8caa=_0xba9172['querySelector']('[data-itemname=\x22'+_0x42ef51+'\x22]')[_0x4b26f6(0x7e)]['objid'],_0xbaf927=document[_0x4b26f6(0x88)]('#k-action')[_0x4b26f6(0x81)];if(_0xbaf927){await new Promise(_0x4cbdea=>{setTimeout(_0x4cbdea,0x1f4);});const _0x2de77b=await fetch(_0x4b26f6(0x7f),{'headers':{'accept':_0x4b26f6(0xa7),'accept-language':'en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7,zh-TW;q=0.6,es;q=0.5','content-type':'application/x-www-form-urlencoded;\x20charset=UTF-8','x-requested-with':_0x4b26f6(0x96)},'referrer':'https://www.neopets.com/inventory.phtml','body':_0x4b26f6(0x99)+_0x2e8caa+'&action='+_0xbaf927+'&petcare=0','method':_0x4b26f6(0x80),'mode':_0x4b26f6(0x9f),'credentials':_0x4b26f6(0x70)})['then'](_0x2c6024=>_0x2c6024[_0x4b26f6(0x9e)]()),_0x47e6a4=_0x13dc1c[_0x4b26f6(0x95)](_0x2de77b,_0x4b26f6(0x89));await new Promise(_0x36f13b=>{setTimeout(_0x36f13b,0x1f4);}),document[_0x4b26f6(0x88)](_0x4b26f6(0x78))[_0x4b26f6(0x8e)]+=_0x4b26f6(0x8d)+_0x47e6a4[_0x4b26f6(0x88)]('p')[_0x4b26f6(0x83)]+'</div>';if(_0x2de77b[_0x4b26f6(0x93)]('as\x20an\x20avatar\x20on')&&stopAvatar){document[_0x4b26f6(0x88)]('#k-log')['innerHTML']+='<div>Aquired\x20Avatar!</div>';break;}}}}),document[_0x3c28d5(0x88)](_0x3c28d5(0x6f))[_0x3c28d5(0x8a)](_0x17b76d);}catch(_0x359b11){console['log'](_0x359b11);}}());function a0_0xd28e(_0x3052e1,_0x25cd8a){const _0x41b8e8=a0_0x41b8();return a0_0xd28e=function(_0xd28e89,_0x13168b){_0xd28e89=_0xd28e89-0x6f;let _0x8fa8d9=_0x41b8e8[_0xd28e89];return _0x8fa8d9;},a0_0xd28e(_0x3052e1,_0x25cd8a);}function a0_0x41b8(){const _0x37c23f=['querySelector','text/html','append','then','9YIMpQc','<div>','innerHTML','map','click','checked','#stop-avatar','includes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22inv-menulinks\x22\x20style=\x22width:\x2095%;\x20margin:\x2010px\x20auto;\x20display:\x20flex;\x20justify-content:\x20center;\x20gap:\x201em;\x20background-color:\x20rgb(242,\x20133,\x200);\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li\x20style=\x22font-family:\x20\x27MuseoSansRounded700\x27,\x20\x27Arial\x27,\x20sans-serif;\x20color:\x20#fff;\x20font-size:\x2014pt;\x22>Inventory\x20Repeater</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li\x20style=\x22font-family:\x20\x27MuseoSansRounded700\x27,\x20\x27Arial\x27,\x20sans-serif;\x20color:\x20#fff;\x20font-size:\x2014pt;\x22><label>Item:\x20<select\x20id=\x22k-item\x22></select></li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li\x20style=\x22font-family:\x20\x27MuseoSansRounded700\x27,\x20\x27Arial\x27,\x20sans-serif;\x20color:\x20#fff;\x20font-size:\x2014pt;\x22><label>Action:\x20<select\x20id=\x22k-action\x22></select></li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li\x20style=\x22font-family:\x20\x27MuseoSansRounded700\x27,\x20\x27Arial\x27,\x20sans-serif;\x20color:\x20#fff;\x20font-size:\x2014pt;\x20border-radius:\x205px;\x22><button\x20id=\x22k-repeat\x22>Start</button></li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22inv-menulinks\x22\x20style=\x22width:\x2095%;\x20margin:\x2010px\x20auto;\x20display:\x20flex;\x20justify-content:\x20center;\x20gap:\x201em;\x20background-color:\x20rgb(242,\x20133,\x200);\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li\x20style=\x22font-family:\x20\x27MuseoSansRounded700\x27,\x20\x27Arial\x27,\x20sans-serif;\x20color:\x20#fff;\x20font-size:\x2014pt;\x22><label><input\x20id=\x22stop-avatar\x22\x20type=\x22checkbox\x22\x20/>Stop\x20on\x20avatar</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li\x20style=\x22font-family:\x20\x27MuseoSansRounded700\x27,\x20\x27Arial\x27,\x20sans-serif;\x20color:\x20#fff;\x20font-size:\x2014pt;\x22><label><input\x20id=\x22bloat-b-gone\x22\x20type=\x22checkbox\x22\x20/>Use\x20Bloat\x20B\x20Gone</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22k-log\x22\x20style=\x22display:\x20flex;\x20flex-direction:\x20column-reverse;\x20width:\x2095%;\x20margin:\x2010px\x20auto;\x20max-height:\x20400px;\x20overflow:\x20auto;\x20background-color:\x20rgb(242,\x20133,\x200);\x20padding:\x2012px;\x20box-sizing:\x20border-box;\x20color:\x20#fff;\x20border-radius:\x205px;\x22></div>','parseFromString','XMLHttpRequest','change','text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7','obj_id=','createElement','.item-name','1317488jqOuqh','#k-item','text','cors','*/*','join','GET','https://www.neopets.com/np-templates/views/iteminfo.phtml?obj_id=','638252rBxBrE','disabled','currentTarget','text/html,\x20*/*;\x20q=0.01','#bloat-b-gone','.page-title__2020','include','en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7,zh-TW;q=0.6,es;q=0.5','addEventListener','#k-action','[data-itemname=\x22','1541850nbTICy','objid','28631crDDpM','#k-log','</option>','https://www.neopets.com/np-templates/ajax/inventory.php?itemType=np&alpha=&itemStack=1&action=','15VCLEwT','15836029eYGZtw','1082724yALFUJ','dataset','https://www.neopets.com/np-templates/views/useobject.phtml','POST','value','18tAyvWD','textContent','169935vwIjYu','https://www.neopets.com/inventory.phtml','7TtTvZr','[name=\x22action\x22]'];a0_0x41b8=function(){return _0x37c23f;};return a0_0x41b8();}
