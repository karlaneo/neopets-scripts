// ==UserScript==
// @name         Neopets - Karla's Inventory Action Repeater
// @license      GPL3
// @version      0.0.1
// @description  Automatically use items in your inventory, great for feeding stat boosters, getting avatars, breaking toys, etc.
// @author       Karla
// @match        *://*.neopets.com/inventory*
// @icon         https://github.com/karlaneo/neopets-scripts/blob/main/favicon-32x32.png?raw=true
// @downloadURL  https://github.com/karlaneo/neopets-scripts/raw/refs/heads/main/inventory_action_repeater.user.js
// @updateURL    https://github.com/karlaneo/neopets-scripts/raw/refs/heads/main/inventory_action_repeater.user.js
// ==/UserScript==

(function(_0x48dbaf,_0x87e3bc){const _0x3bf932=a0_0x2de1,_0x7d12d9=_0x48dbaf();while(!![]){try{const _0xbc1bd1=parseInt(_0x3bf932(0x151))/0x1*(parseInt(_0x3bf932(0x137))/0x2)+-parseInt(_0x3bf932(0x11d))/0x3+-parseInt(_0x3bf932(0x146))/0x4+-parseInt(_0x3bf932(0x11f))/0x5+parseInt(_0x3bf932(0x144))/0x6+-parseInt(_0x3bf932(0x14a))/0x7+-parseInt(_0x3bf932(0x120))/0x8*(-parseInt(_0x3bf932(0x14b))/0x9);if(_0xbc1bd1===_0x87e3bc)break;else _0x7d12d9['push'](_0x7d12d9['shift']());}catch(_0xeb54ed){_0x7d12d9['push'](_0x7d12d9['shift']());}}}(a0_0x5224,0x23f9e));function a0_0x5224(){const _0x1e384b=['https://www.neopets.com/np-templates/ajax/inventory.php?itemType=np&alpha=&itemStack=1&action=','checked','value','1525321olRqPm','1593LWRDmV','text/html','as\x20an\x20avatar\x20on','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22inv-menulinks\x22\x20style=\x22width:\x2095%;\x20margin:\x2010px\x20auto;\x20display:\x20flex;\x20justify-content:\x20center;\x20gap:\x201em;\x20background-color:\x20rgb(242,\x20133,\x200);\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li\x20style=\x22font-family:\x20\x27MuseoSansRounded700\x27,\x20\x27Arial\x27,\x20sans-serif;\x20color:\x20#fff;\x20font-size:\x2014pt;\x22>Inventory\x20Repeater</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li\x20style=\x22font-family:\x20\x27MuseoSansRounded700\x27,\x20\x27Arial\x27,\x20sans-serif;\x20color:\x20#fff;\x20font-size:\x2014pt;\x22><label>Item:\x20<select\x20id=\x22k-item\x22></select></li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li\x20style=\x22font-family:\x20\x27MuseoSansRounded700\x27,\x20\x27Arial\x27,\x20sans-serif;\x20color:\x20#fff;\x20font-size:\x2014pt;\x22><label>Action:\x20<select\x20id=\x22k-action\x22></select></li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li\x20style=\x22font-family:\x20\x27MuseoSansRounded700\x27,\x20\x27Arial\x27,\x20sans-serif;\x20color:\x20#fff;\x20font-size:\x2014pt;\x20border-radius:\x205px;\x22><button\x20id=\x22k-repeat\x22>Start</button></li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22inv-menulinks\x22\x20style=\x22width:\x2095%;\x20margin:\x2010px\x20auto;\x20display:\x20flex;\x20justify-content:\x20center;\x20gap:\x201em;\x20background-color:\x20rgb(242,\x20133,\x200);\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li\x20style=\x22font-family:\x20\x27MuseoSansRounded700\x27,\x20\x27Arial\x27,\x20sans-serif;\x20color:\x20#fff;\x20font-size:\x2014pt;\x22><label><input\x20id=\x22stop-avatar\x22\x20type=\x22checkbox\x22\x20/>Stop\x20on\x20avatar</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li\x20style=\x22font-family:\x20\x27MuseoSansRounded700\x27,\x20\x27Arial\x27,\x20sans-serif;\x20color:\x20#fff;\x20font-size:\x2014pt;\x22><label><input\x20id=\x22bloat-b-gone\x22\x20type=\x22checkbox\x22\x20/>Use\x20Bloat\x20B\x20Gone</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22k-log\x22\x20style=\x22display:\x20flex;\x20flex-direction:\x20column-reverse;\x20width:\x2095%;\x20margin:\x2010px\x20auto;\x20max-height:\x20400px;\x20overflow:\x20auto;\x20background-color:\x20rgb(242,\x20133,\x200);\x20padding:\x2012px;\x20box-sizing:\x20border-box;\x20color:\x20#fff;\x20border-radius:\x205px;\x22></div>','*/*','#k-action','55DQmEOP','cors','include','map','currentTarget','includes','https://www.neopets.com/np-templates/views/iteminfo.phtml?obj_id=2246535334','836619FwwnUv','#k-repeat','316795XvfJOE','20952nGNNKA','#k-log','from','parseFromString','#bloat-b-gone','</div>','obj_id=','objid','append','<div>Aquired\x20Avatar!</div>','#stop-avatar','POST','.page-title__2020','innerHTML','en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7,zh-TW;q=0.6,es;q=0.5','querySelector','disabled','application/x-www-form-urlencoded;\x20charset=UTF-8','then','createElement','textContent','#k-item','change','7738yEMAUd','XMLHttpRequest','<div>','https://www.neopets.com/np-templates/views/useobject.phtml','div','text','&action=','.item-name','addEventListener','click','https://www.neopets.com/inventory.phtml','<option>Select\x20Item</option>','dataset','1721202YKVlTw','[name=\x22action\x22]','1022928kcLAZT'];a0_0x5224=function(){return _0x1e384b;};return a0_0x5224();}let stopAvatar=![],bloatBGone=![];function a0_0x2de1(_0x50fc71,_0x598d2c){const _0x522475=a0_0x5224();return a0_0x2de1=function(_0x2de107,_0x45e64b){_0x2de107=_0x2de107-0x118;let _0x14093a=_0x522475[_0x2de107];return _0x14093a;},a0_0x2de1(_0x50fc71,_0x598d2c);}(async function(){'use strict';const _0x5d607d=a0_0x2de1;try{const _0x46e9bf=await fetch('https://www.neopets.com/np-templates/ajax/inventory.php?itemType=np&alpha=&itemStack=1&action=',{'headers':{'accept':_0x5d607d(0x14f),'accept-language':_0x5d607d(0x12e),'x-requested-with':_0x5d607d(0x138)},'referrer':_0x5d607d(0x141),'body':null,'method':_0x5d607d(0x12b),'mode':_0x5d607d(0x152),'credentials':'include'})['then'](_0x676cc0=>_0x676cc0[_0x5d607d(0x13c)]()),_0x20ae3b=new DOMParser(),_0x313708=_0x20ae3b[_0x5d607d(0x123)](_0x46e9bf,'text/html'),_0x5f3985=Array[_0x5d607d(0x122)](_0x313708['querySelectorAll'](_0x5d607d(0x13e)))[_0x5d607d(0x119)](_0x4b68a0=>_0x4b68a0[_0x5d607d(0x134)]),_0x27aa82=document[_0x5d607d(0x133)](_0x5d607d(0x13b));_0x27aa82[_0x5d607d(0x12d)]=_0x5d607d(0x14e),_0x27aa82[_0x5d607d(0x12f)](_0x5d607d(0x12a))[_0x5d607d(0x13f)](_0x5d607d(0x136),function(_0x54b061){const _0x5ee93a=_0x5d607d;stopAvatar=_0x54b061[_0x5ee93a(0x11a)][_0x5ee93a(0x148)];}),_0x27aa82[_0x5d607d(0x12f)](_0x5d607d(0x124))[_0x5d607d(0x13f)](_0x5d607d(0x136),function(_0x29c731){const _0x54bfd2=_0x5d607d;bloatBGone=_0x29c731[_0x54bfd2(0x11a)][_0x54bfd2(0x148)];}),_0x27aa82[_0x5d607d(0x12f)]('#k-item')[_0x5d607d(0x12d)]=_0x5d607d(0x142)+_0x5f3985[_0x5d607d(0x119)](_0x546e83=>'<option\x20value=\x22'+_0x546e83+'\x22>'+_0x546e83+'</option>')['join']('\x0a'),_0x27aa82[_0x5d607d(0x12f)](_0x5d607d(0x135))['addEventListener']('change',async function(_0x37c72e){const _0x467c3c=_0x5d607d;_0x37c72e[_0x467c3c(0x11a)][_0x467c3c(0x130)]=!![];const _0x2dd47d=_0x37c72e['currentTarget'][_0x467c3c(0x149)],_0x1d1cf9=await fetch(_0x467c3c(0x147),{'headers':{'accept':_0x467c3c(0x14f),'accept-language':'en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7,zh-TW;q=0.6,es;q=0.5','x-requested-with':'XMLHttpRequest'},'referrer':'https://www.neopets.com/inventory.phtml','body':null,'method':_0x467c3c(0x12b),'mode':_0x467c3c(0x152),'credentials':_0x467c3c(0x118)})[_0x467c3c(0x132)](_0x45879d=>_0x45879d[_0x467c3c(0x13c)]()),_0x5f3a6=new DOMParser(),_0x42d45e=_0x5f3a6[_0x467c3c(0x123)](_0x1d1cf9,_0x467c3c(0x14c)),_0x33d5ce=document['querySelector']('[data-itemname=\x22'+_0x2dd47d+'\x22]')[_0x467c3c(0x143)][_0x467c3c(0x127)],_0xfbe6ea=await fetch(_0x467c3c(0x11c),{'headers':{'accept':_0x467c3c(0x14f),'accept-language':_0x467c3c(0x12e),'x-requested-with':_0x467c3c(0x138)},'referrer':'https://www.neopets.com/inventory.phtml','body':null,'method':_0x467c3c(0x12b),'mode':_0x467c3c(0x152),'credentials':_0x467c3c(0x118)})[_0x467c3c(0x132)](_0x3305af=>_0x3305af[_0x467c3c(0x13c)]()),_0x24aafd=_0x5f3a6[_0x467c3c(0x123)](_0xfbe6ea,'text/html');document[_0x467c3c(0x12f)](_0x467c3c(0x150))[_0x467c3c(0x12d)]=_0x24aafd[_0x467c3c(0x12f)](_0x467c3c(0x145))[_0x467c3c(0x12d)],_0x37c72e[_0x467c3c(0x11a)][_0x467c3c(0x130)]=![];}),_0x27aa82[_0x5d607d(0x12f)](_0x5d607d(0x11e))[_0x5d607d(0x13f)](_0x5d607d(0x140),async function(_0x1ab962){const _0x3747cc=_0x5d607d;_0x1ab962[_0x3747cc(0x11a)][_0x3747cc(0x130)]=!![];const _0x27a504=document['querySelector'](_0x3747cc(0x135))['value'];while(!![]){const _0x5b17c6=await fetch(_0x3747cc(0x147),{'headers':{'accept':'*/*','accept-language':_0x3747cc(0x12e),'x-requested-with':_0x3747cc(0x138)},'referrer':_0x3747cc(0x141),'body':null,'method':_0x3747cc(0x12b),'mode':_0x3747cc(0x152),'credentials':'include'})['then'](_0x4afc74=>_0x4afc74[_0x3747cc(0x13c)]()),_0x215a6e=new DOMParser(),_0x12704d=_0x215a6e[_0x3747cc(0x123)](_0x5b17c6,_0x3747cc(0x14c)),_0x5e893b=_0x12704d['querySelector']('[data-itemname=\x22'+_0x27a504+'\x22]')[_0x3747cc(0x143)][_0x3747cc(0x127)],_0x2c2dad=document['querySelector']('#k-action')[_0x3747cc(0x149)];if(_0x2c2dad){await new Promise(_0x1fb8b4=>{setTimeout(_0x1fb8b4,0x1f4);});const _0x3dae63=await fetch(_0x3747cc(0x13a),{'headers':{'accept':'text/html,\x20*/*;\x20q=0.01','accept-language':_0x3747cc(0x12e),'content-type':_0x3747cc(0x131),'x-requested-with':_0x3747cc(0x138)},'referrer':_0x3747cc(0x141),'body':_0x3747cc(0x126)+_0x5e893b+_0x3747cc(0x13d)+_0x2c2dad+'&petcare=0','method':_0x3747cc(0x12b),'mode':_0x3747cc(0x152),'credentials':_0x3747cc(0x118)})[_0x3747cc(0x132)](_0x1312cc=>_0x1312cc[_0x3747cc(0x13c)]()),_0xbdfd0f=_0x215a6e[_0x3747cc(0x123)](_0x3dae63,_0x3747cc(0x14c));await new Promise(_0x13909f=>{setTimeout(_0x13909f,0x1f4);}),document[_0x3747cc(0x12f)](_0x3747cc(0x121))[_0x3747cc(0x12d)]+=_0x3747cc(0x139)+_0xbdfd0f['querySelector']('p')[_0x3747cc(0x134)]+_0x3747cc(0x125);if(_0x3dae63[_0x3747cc(0x11b)](_0x3747cc(0x14d))&&stopAvatar){document[_0x3747cc(0x12f)]('#k-log')[_0x3747cc(0x12d)]+=_0x3747cc(0x129);break;}}}}),document[_0x5d607d(0x12f)](_0x5d607d(0x12c))[_0x5d607d(0x128)](_0x27aa82);}catch(_0x590c87){console['log'](_0x590c87);}}());
