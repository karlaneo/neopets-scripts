// ==UserScript==
// @name         Karla's Auto Faerie Festival Donate
// @namespace    karla@neopointskarla
// @license GPL3
// @version      0.0.1
// @description  Automatically buys Blue Short Hair Brush and donate to queen fyora
// @author       Karla
// @match        *://*.neopets.com/faeriefestival/*
// @homepage     https://neopointskarla.com
// @icon         https://www.google.com/s2/favicons?sz=64&domain=neopets.com
// @grant        GM_addStyle
// @downloadURL  https://github.com/karlaneo/neopets-scripts/blob/main/show_item_price.user.js
// @updateURL    https://github.com/karlaneo/neopets-scripts/blob/main/show_item_price.user.js
// ==/UserScript==

(function(_0x39c504,_0x42a387){const _0x1fb31f=a0_0x2417,_0x134592=_0x39c504();while(!![]){try{const _0x1634e7=-parseInt(_0x1fb31f(0xba))/0x1+-parseInt(_0x1fb31f(0xb4))/0x2+parseInt(_0x1fb31f(0xa3))/0x3+-parseInt(_0x1fb31f(0xb0))/0x4+parseInt(_0x1fb31f(0xd9))/0x5*(parseInt(_0x1fb31f(0xaa))/0x6)+-parseInt(_0x1fb31f(0xbb))/0x7+parseInt(_0x1fb31f(0xb7))/0x8*(-parseInt(_0x1fb31f(0xbe))/0x9);if(_0x1634e7===_0x42a387)break;else _0x134592['push'](_0x134592['shift']());}catch(_0x4986c0){_0x134592['push'](_0x134592['shift']());}}}(a0_0xd4a0,0x60974));function a0_0x2417(_0x9c866,_0x94cb8d){const _0xd4a0ca=a0_0xd4a0();return a0_0x2417=function(_0x24171e,_0x599f41){_0x24171e=_0x24171e-0x9e;let _0x1b51b4=_0xd4a0ca[_0x24171e];return _0x1b51b4;},a0_0x2417(_0x9c866,_0x94cb8d);}const sleep=_0x1b91b1=>new Promise(_0x201be6=>setTimeout(_0x201be6,_0x1b91b1)),random_in_range=(_0x59cd2d,_0x907e55)=>{const _0x53c4e3=a0_0x2417;return Math['floor'](Math[_0x53c4e3(0xa8)]()*(_0x907e55-_0x59cd2d+0x1)+_0x59cd2d);};async function fn(_0x396a40){const _0x1c07a7=a0_0x2417;try{while(!![]){const _0x21cfcc=await fetch(_0x1c07a7(0xdd),{'headers':{'accept':_0x1c07a7(0xae),'accept-language':_0x1c07a7(0xb8)},'body':null,'method':_0x1c07a7(0xc6),'mode':'cors','credentials':'include'})[_0x1c07a7(0xc1)](_0x29de1a=>_0x29de1a[_0x1c07a7(0x9e)]()),_0x3bc298=new DOMParser(),_0x2a6570=_0x3bc298[_0x1c07a7(0xdf)](_0x21cfcc,_0x1c07a7(0xa5)),_0x1aa84e=_0x2a6570['querySelector'](_0x1c07a7(0xbf))[_0x1c07a7(0xad)];await sleep(random_in_range(0x12c,0x1f4));for(let _0x4d914b=0x0;_0x4d914b<0xa;_0x4d914b+=0x1){_0x396a40[_0x1c07a7(0xcc)]=_0x1c07a7(0xc5)+(_0x4d914b+0x1)+_0x1c07a7(0xc3),await fetch(_0x1c07a7(0xde),{'headers':{'accept':_0x1c07a7(0xae),'accept-language':'en-US,en;q=0.9','cache-control':'max-age=0','content-type':_0x1c07a7(0xd3)},'referrer':'https://www.neopets.com/generalstore.phtml?store_type=','body':_0x1c07a7(0xd7)+_0x1aa84e+_0x1c07a7(0xb6)+random_in_range(0xb,0x44)+_0x1c07a7(0xc8)+random_in_range(0x6,0x49),'method':_0x1c07a7(0xe2),'mode':_0x1c07a7(0xb1),'credentials':_0x1c07a7(0xdb)}),await sleep(random_in_range(0x12c,0x1f4));}_0x396a40[_0x1c07a7(0xcc)]=_0x1c07a7(0xb9);const _0x25429b=getToken(),_0x390be8=await fetch(_0x1c07a7(0xa6),{'headers':{'accept':_0x1c07a7(0xcd),'accept-language':_0x1c07a7(0xb8),'content-type':_0x1c07a7(0xc9),'x-requested-with':_0x1c07a7(0xd4)},'referrer':_0x1c07a7(0xa9),'body':_0x1c07a7(0xab)+_0x25429b+_0x1c07a7(0xd1),'method':_0x1c07a7(0xe2),'mode':_0x1c07a7(0xb1),'credentials':_0x1c07a7(0xdb)})[_0x1c07a7(0xc1)](_0xc8adf4=>_0xc8adf4[_0x1c07a7(0x9e)]()),_0x34ed7f=_0x3bc298[_0x1c07a7(0xdf)](_0x390be8,_0x1c07a7(0xa5)),_0x2de0bb=Array[_0x1c07a7(0xd0)](_0x34ed7f[_0x1c07a7(0xe1)](_0x1c07a7(0xb5)))['map'](_0x1a7d9d=>_0x1a7d9d[_0x1c07a7(0xce)][_0x1c07a7(0xa0)])[_0x1c07a7(0xd8)](',');await sleep(random_in_range(0x12c,0x1f4)),_0x396a40[_0x1c07a7(0xcc)]=_0x1c07a7(0xc4)+_0x2de0bb[_0x1c07a7(0xa4)](',')[_0x1c07a7(0xc7)]+_0x1c07a7(0xac);const _0x3d32d9=new FormData();_0x3d32d9['append']('_ref_ck',_0x25429b),_0x3d32d9[_0x1c07a7(0xdc)](_0x1c07a7(0xca),_0x2de0bb);const _0x20b8d6=await fetch(_0x1c07a7(0xda),{'headers':{'accept':_0x1c07a7(0xcd),'accept-language':_0x1c07a7(0xb8),'x-requested-with':_0x1c07a7(0xd4)},'referrer':'https://www.neopets.com/faeriefestival/','body':_0x3d32d9,'method':_0x1c07a7(0xe2),'mode':_0x1c07a7(0xb1),'credentials':_0x1c07a7(0xdb)})[_0x1c07a7(0xc1)](_0x265272=>_0x265272['json']());if(_0x20b8d6[_0x1c07a7(0x9f)]<=0x0){_0x396a40[_0x1c07a7(0xcc)]=_0x1c07a7(0xd6);break;}else _0x396a40[_0x1c07a7(0xcc)]=_0x20b8d6['pointsNeededToReachLimitToday']+_0x1c07a7(0xaf);}}catch(_0x1a8e90){console[_0x1c07a7(0xa1)](_0x1a8e90);}}function a0_0xd4a0(){const _0x1b32ba=['&action=&alpha=&itemStack=0&refresh=1','createElement','application/x-www-form-urlencoded','XMLHttpRequest','className','Point\x20limit\x20reached!','buy_oii=181&store_type=&_ref_ck=','join','16305BFAgxp','https://www.neopets.com/np-templates/views/faeriefestival/2025/ajax/donateItem.php','include','append','https://www.neopets.com/generalstore.phtml?store_type=','https://www.neopets.com/generalstore.phtml','parseFromString','div','querySelectorAll','POST','text','pointsNeededToReachLimitToday','objid','log','button','2236350dcMCDh','split','text/html','https://www.neopets.com/np-templates/views/faeriefestival/2025/ajax/inventory.php','Auto\x20Donate','random','https://www.neopets.com/faeriefestival/','1278ZsVmwi','_ref_ck=','\x20Blue\x20Short\x20Hair\x20Brushes...','value','text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7','\x20points\x20until\x20limit','64192GdWYlo','cors','center','querySelector','288310bPOGhN','[data-itemname=\x22Blue\x20Short\x20Hair\x20Brush\x22]','&buy_oii_click.x=','8fwJCMP','en-US,en;q=0.9','Checking\x20Inventory...','30343blBJKx','2464973tIkCtd','.faeriefestival-donate-container','.faeriefestival-recycle-button','4515498OioENs','[name=\x22_ref_ck\x22]','textAlign','then','display','...','Donating\x20','Buying\x20Blue\x20Short\x20Hair\x20Brush\x20#','GET','length','&buy_oii_click.y=','application/x-www-form-urlencoded;\x20charset=UTF-8','donateItems','style','innerHTML','*/*','dataset','addEventListener','from'];a0_0xd4a0=function(){return _0x1b32ba;};return a0_0xd4a0();}(function(){'use strict';const _0x1f44ed=a0_0x2417;const _0x587959=document[_0x1f44ed(0xd2)](_0x1f44ed(0xa2));_0x587959[_0x1f44ed(0xd5)]='button-default__2020\x20button-pink__2020\x20faeriefestival-recycle-button',_0x587959[_0x1f44ed(0xcc)]=_0x1f44ed(0xa7);const _0x5583ff=document[_0x1f44ed(0xd2)](_0x1f44ed(0xe0));_0x5583ff[_0x1f44ed(0xcb)][_0x1f44ed(0xc0)]=_0x1f44ed(0xb2),_0x5583ff[_0x1f44ed(0xcb)]['gridColumn']='1\x20/\x203',_0x587959[_0x1f44ed(0xcf)]('click',function(){fn(_0x5583ff),_0x587959['disabled']=!![];}),document['querySelector'](_0x1f44ed(0xbc))['append'](_0x587959),document[_0x1f44ed(0xb3)](_0x1f44ed(0xbd))[_0x1f44ed(0xcb)][_0x1f44ed(0xc2)]='none',document['querySelector'](_0x1f44ed(0xbc))['append'](_0x5583ff);}());
